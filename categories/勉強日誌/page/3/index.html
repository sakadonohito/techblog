
<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
  <title>勉強日誌</title>
  <script src="http://tech.k-zak.com/bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="http://tech.k-zak.com/bower_components/iron-icons/iron-icons.html">
  <link rel="import" href="http://tech.k-zak.com/bower_components/paper-drawer-panel/paper-drawer-panel.html">
  <link rel="import" href="http://tech.k-zak.com/bower_components/paper-icon-button/paper-icon-button.html">
  <link rel="import" href="http://tech.k-zak.com/bower_components/paper-toolbar/paper-toolbar.html">
  <link rel="import" href="http://tech.k-zak.com/bower_components/paper-scroll-header-panel/paper-scroll-header-panel.html">
  <link rel="import" href="http://tech.k-zak.com/bower_components/paper-fab/paper-fab.html">
  <link rel="import" href="http://tech.k-zak.com/bower_components/paper-item/paper-item.html">
  <link rel="import" href="http://tech.k-zak.com/bower_components/paper-menu/paper-menu.html">
  <link rel="import" href="http://tech.k-zak.com/bower_components/iron-image/iron-image.html">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/default.min.css">
  <style is="custom-style">
    body {
      font-family: 'Roboto', sans-serif;
    }
    .nav {
      border-right: 1px solid #ccc;
    }
    
    paper-scroll-header-panel {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-color: var(--paper-grey-200, #eee);
       
      --paper-scroll-header-panel-full-header: {
        background-image: url(http://tech.k-zak.com/images/cover.png);
      };
       
      --paper-scroll-header-panel-condensed-header: {
        background-image: url(http://tech.k-zak.com/images/cover.png);
      };
    }
    
    paper-toolbar {
       
      height: 256px;
      background-color: transparent;
    }
    .profile{
      width: 100%;
      padding-bottom: 20px;
    }
    .photo{
      margin: 20px;
      display: inline-block;
      height: 64px; width: 64px;
      border-radius: 50%;
    }
    .article{
      border: 1px solid #bebebe;
      padding: 16px;
      margin: 16px;
      border-radius: 5px;
      background-color: #fff;
    }
    .title{
      font-size: 22px;
      padding: 8px 0 16px;
    }
    .description{
      font-size: 16px;
      padding-bottom: 8px;
    }
    .author{
      font-size: 16px;
      padding-left: 20px;
      color: white;
    }
    .design{
      font-size: 14px;
    }
    .copyright{
      font-size: 16px;
    }
    paper-menu a {
      text-decoration: none;
      color: #212121;
    }
  </style>

</head>
<body>
  <paper-drawer-panel id="drawerPanel" responsive-width="1280px">
    <div class="nav scroll" drawer>
    
      <iron-image class="profile" sizing="cover" src="http://tech.k-zak.com/images/profile.png">
    
        
          <iron-image class="photo" sizing="cover" src="http://tech.k-zak.com/images/photo.png"></iron-image>
        
          <div class="author"></div>
      </iron-image>
      <paper-menu>
        <a href="http://tech.k-zak.com"><paper-item>
          <iron-icon icon="home"></iron-icon>　<div class="flex">Home</div>
          <iron-icon icon="chevron-right"></iron-icon>
        </paper-item></a>
        <a href="http://tech.k-zak.com/categories/"><paper-item>
          <iron-icon icon="drafts"></iron-icon>　<div class="flex">Categories</div>
          <iron-icon icon="chevron-right"></iron-icon>
        </paper-item></a>
        <a href="http://tech.k-zak.com/tags/"><paper-item>
          <iron-icon icon="loyalty"></iron-icon>　<div class="flex">Tags</div>
          <iron-icon icon="chevron-right"></iron-icon>
        </paper-item></a>
      </paper-menu>
    </div>

    <paper-scroll-header-panel main condenses header-height="256" condensed-header-height="64">

      <paper-toolbar>

        <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
        <div class="bottom title">開発メモてきな</div>
        <div class="flex"></div>
        
        
        
        
        
          <a href="http://tech.k-zak.com/index.xml"><paper-icon-button src="http://tech.k-zak.com/images/feed-dreamstale27.png"></paper-icon-button></a>
      
      </paper-toolbar>



<div class="content">


  <div class="article">
    <div class="title"><a href="http://tech.k-zak.com/2013/12/22/pascal-logic">パスカルのなんとか</a></div>
    
      <div class="categories">
        
          <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/">勉強日誌</a>
        
      </div>
     
    <div class="description">今回は、パスカルの三角定理？みたいなやつ
PHPでは、
&lt;?php $num = trim(fgets(STDIN)); $num = ($num)?(int)$num:10; $arr = array(1); for($i=0;$i&lt;$num;$i++){ $len = count($arr); $tmp = array(1); for($j=0;$j&lt;$len-1;$j++){ array_push($tmp,$arr[$j]+$arr[$j+1]); } array_push($tmp,1); $arr = $tmp; echo join(',',$arr)."\n"; } ?&gt; Perlでは、
#!/usr/bin/perl use strict; use warnings; my $num = &lt;stdin; chomp($num); $num ||= 10; my @list = (1); for(my $i=0;$i&lt;$num;$i++){ my $len = @list; my @tmp = (1); for(my $j=0;$j&lt;$len-1;$j++){ push(@tmp,$list[$j]+$list[$j+1]); } push(@tmp,1); @list = @tmp; print join(',',@list)."\n"; } &lt;/stdin Pythonでは、</div>
    <div class="tags">
      22 Dec 2013
      
        
          <a href="http://tech.k-zak.com/tags/perl/">#Perl</a>
        
          <a href="http://tech.k-zak.com/tags/php/">#PHP</a>
        
          <a href="http://tech.k-zak.com/tags/python/">#Python</a>
        
          <a href="http://tech.k-zak.com/tags/ruby/">#Ruby</a>
        
       
    </div>
  </div>

  <div class="article">
    <div class="title"><a href="http://tech.k-zak.com/2013/12/08/square-root">平方根ろじく</a></div>
    
      <div class="categories">
        
          <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/">勉強日誌</a>
        
      </div>
     
    <div class="description">平方根で最も少ない桁数で0から9までの数字が揃うのは何？
Pythonでチャレンジ
#!usr/bin/python #--*-- coding: utf-8 --*-- import math from decimal import * def change_list(num): return list(str(num).replace('.','')) def check_num10(num_list): #num_list max length is 28 (default Decimal) s = set() i = 0 for x in num_list: s.add(x) i += 1 if len(s) == 10: return i #set length shorter than 10 return False return False if __name__ == '__main__': #上限100万でLoop max_loop = 1000000 k = False #桁数 i = False #数値 for x in range(0,max_loop): result = check_num10(change_list(Decimal(x).</div>
    <div class="tags">
      8 Dec 2013
      
        
          <a href="http://tech.k-zak.com/tags/python/">#Python</a>
        
       
    </div>
  </div>

  <div class="article">
    <div class="title"><a href="http://tech.k-zak.com/2013/12/08/coding-memo05">コーディングリハビリ06</a></div>
    
      <div class="categories">
        
          <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/">勉強日誌</a>
        
      </div>
     
    <div class="description">リハビリその3
今回は、バブルソート
PHPでは、
&lt;?php $num = trim(fgets(STDIN)); $num = ($num)?(int)$num:10; $arr = array(1); for($i=0;$i&lt;$num;$i++){ $len = count($arr); $tmp = array(1); for($j=0;$j&lt;$len-1;$j++){ array_push($tmp,$arr[$j]+$arr[$j+1]); } array_push($tmp,1); $arr = $tmp; echo join(',',$arr)."\n"; } ?&gt; Perlでは、
#!/usr/bin/perl use strict; use warnings; my $num = &lt;STDIN&gt;; chomp($num); $num ||= 10; my @list = (1); for(my $i=0;$i&lt;$num;$i++){ my $len = @list; my @tmp = (1); for(my $j=0;$j&lt;$len-1;$j++){ push(@tmp,$list[$j]+$list[$j+1]); } push(@tmp,1); @list = @tmp; print join(',',@list)."\n"; }  Pythonでは、</div>
    <div class="tags">
      8 Dec 2013
      
        
          <a href="http://tech.k-zak.com/tags/perl/">#Perl</a>
        
          <a href="http://tech.k-zak.com/tags/php/">#PHP</a>
        
          <a href="http://tech.k-zak.com/tags/python/">#Python</a>
        
          <a href="http://tech.k-zak.com/tags/ruby/">#Ruby</a>
        
       
    </div>
  </div>

  <div class="article">
    <div class="title"><a href="http://tech.k-zak.com/2013/12/08/coding-memo05">コーディングリハビリ05</a></div>
    
      <div class="categories">
        
          <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/">勉強日誌</a>
        
      </div>
     
    <div class="description">昨日の文字チェックをPHP以外で試す。
与えられた文字列が全てユニークな文字で構成されているかのチェック。
PHPは前回やっているので、今回は掲載無し。
Perlでは、
#!/usr/bin/perl use strict; use warnings; sub check_unique{ my $str = shift; my $len = length($str); for(my $i=0;$i&lt;$len;$i++){ my $char = substr($str,$i); if(index($str,$char) != rindex($str,$char)){ return "False"; } } return "True"; } my $input = '1234567890-=\`!@#$%^&*()_+|~qwertyuiop[]QWERTYUIOP{}ASDFGHJKL:"asdfghjkl;\'zxcvbnm,./ZXCVBNM&lt;&gt;?'; #my $input = &lt;STDIN&gt;; #chomp($input); print check_unique($input)."\n"; Pythonでは、
#!/usr/bin/python #--*-- coding: utf-8 --*-- import datetime def check_unique(str): set_str = set(list(str)) if len(str) == len(set_str): return True else: return False if __name__ == "</div>
    <div class="tags">
      8 Dec 2013
      
        
          <a href="http://tech.k-zak.com/tags/perl/">#Perl</a>
        
          <a href="http://tech.k-zak.com/tags/python/">#Python</a>
        
          <a href="http://tech.k-zak.com/tags/ruby/">#Ruby</a>
        
       
    </div>
  </div>

  <div class="article">
    <div class="title"><a href="http://tech.k-zak.com/2013/12/06/coding-memo04">コーディングリハビリ04</a></div>
    
      <div class="categories">
        
          <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/">勉強日誌</a>
        
      </div>
     
    <div class="description">今回は与えられた文字列が全てユニークな文字の構成かどうか調べる。
そういう問題を出されてスマートに答えられなかったので、調べた。
1,回答した内容を修正したもの
2,PHPのリファレンス見てて思いついた方法
3,文字列のままチェック
4,PHPの関数とか出てこなくて回答できなかった、頭の中にあったロジックを具現化したもの
　配列に変換してshiftしながらチェックする方法
どうも実行してみると2や3が早いようだ。1文字でもユニークでなければFalseにする3が内容によっては最速
やはり何回も配列を操作するとコストが高くなりますね。模範解答が欲しい。</div>
    <div class="tags">
      6 Dec 2013
      
        
          <a href="http://tech.k-zak.com/tags/php/">#PHP</a>
        
       
    </div>
  </div>

  <div class="article">
    <div class="title"><a href="http://tech.k-zak.com/2013/12/06/coding-memo03">コーディングリハビリ03</a></div>
    
      <div class="categories">
        
          <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/">勉強日誌</a>
        
      </div>
     
    <div class="description">リハビリその3
今回は、バブルソート
PHPでは、
&lt;?php function bubble_sort(array $arr,$r){ if(1 == $r){ return $arr; } $len = count($arr)-1; for($i=0;$i&lt;$len;$i++){ if($arr[$i] &gt; $arr[$i+1]){ $tmp = $arr[$i+1]; $arr[$i+1] = $arr[$i]; $arr[$i] = $tmp; } } return bubble_sort($arr,$r-1); } $input = trim(fgets(STDIN)); $arr = explode(",",$input); echo implode(",",bubble_sort($arr,count($arr)))."\n"; ?&gt; Perlでは、
#!/usr/bin/perl use strict; use warnings; sub bubble_sort{ my($arr,$r) = @_; my @arr = @{$arr}; if(1 == $r){ return @arr; }else{ my $len = @arr; for(my $i=0;$i&lt;$len-1;$i++){ if($arr[$i] &gt; $arr[$i+1]){ my $tmp = $arr[$i+1]; $arr[$i+1] = $arr[$i]; $arr[$i] = $tmp; } } bubble_sort(\@arr,$r-1) } } my $input = &lt;STDIN&gt;; chomp($input); my @arr = split(',',$input); print join("</div>
    <div class="tags">
      6 Dec 2013
      
        
          <a href="http://tech.k-zak.com/tags/perl/">#Perl</a>
        
          <a href="http://tech.k-zak.com/tags/php/">#PHP</a>
        
          <a href="http://tech.k-zak.com/tags/python/">#Python</a>
        
          <a href="http://tech.k-zak.com/tags/ruby/">#Ruby</a>
        
       
    </div>
  </div>

  <div class="article">
    <div class="title"><a href="http://tech.k-zak.com/2013/12/06/coding-memo02">コーディングリハビリ02</a></div>
    
      <div class="categories">
        
          <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/">勉強日誌</a>
        
      </div>
     
    <div class="description">リハビリその２
今回は、ファイル読み込みとその時の簡単な例外処理
読み込むテキストファイルの内容は以下の通り、
7 1000 1992 あ A 2000 2001 1900 16 12 400  PHPでは、
&lt;?php function isLeap($year=null){ if($year == null) return false; $intYear = (int)$year; if(0 != $intYear%4){ return false; }elseif(0 == $intYear%400){ return true; }elseif(0 == $intYear%100){ return false; }else{ return true; } } try{ if(!file_exists("leap.txt")){ throw new Exception("ファイルが見つかりません。"); } $fp = fopen("leap.txt","r"); $lines = fgets($fp); for($i=0;$i&lt;$lines;$i++){ $year = trim(fgets($fp)); printf("%s is%s a leap year\n", $year,((isLeap($year))?"":" not")); } fclose($fp); }catch(Exception $e){ echo $e-&gt;getMessage().</div>
    <div class="tags">
      6 Dec 2013
      
        
          <a href="http://tech.k-zak.com/tags/perl/">#Perl</a>
        
          <a href="http://tech.k-zak.com/tags/php/">#PHP</a>
        
          <a href="http://tech.k-zak.com/tags/python/">#Python</a>
        
          <a href="http://tech.k-zak.com/tags/ruby/">#Ruby</a>
        
       
    </div>
  </div>

  <div class="article">
    <div class="title"><a href="http://tech.k-zak.com/2013/12/06/coding-memo01">コーディングリハビリ01</a></div>
    
      <div class="categories">
        
          <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/">勉強日誌</a>
        
      </div>
     
    <div class="description">一定時間未満の習得状態だと、日々使ってないとすぐ書けなくなりますね。プログラミング言語というのは。
paizaなんかの超初級問題も関数のリファレンスとか見ながらじゃないと全く解けない。
という事でリハビリ。
今回は標準入力。
PHPでは、
&lt;?php //標準入力をfgets関数で取得して前後の空白や改行文字を削り取る $input = trim(fgets(STDIN)); ?&gt; Perlでは、
use strict; use warnings; my $input = &lt;STDIN&gt;; #行末の改行文字を削る chomp($input); Pythonでは、
input = raw_input() #行末の改行文字とるのは厳密にはいろいろあるらしいので今回は無視 Rubyでは、
input = gets.chomp 標準入力が「gets」だけで取れるRubyはダンディ。</div>
    <div class="tags">
      6 Dec 2013
      
        
          <a href="http://tech.k-zak.com/tags/perl/">#Perl</a>
        
          <a href="http://tech.k-zak.com/tags/php/">#PHP</a>
        
          <a href="http://tech.k-zak.com/tags/python/">#Python</a>
        
          <a href="http://tech.k-zak.com/tags/ruby/">#Ruby</a>
        
       
    </div>
  </div>

  <div class="article">
    <div class="title"><a href="http://tech.k-zak.com/2013/12/06/study-larabel4">Laravel4触り始めました</a></div>
    
      <div class="categories">
        
          <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/">勉強日誌</a>
        
      </div>
     
    <div class="description">Laravel4がこれから流行るかなーって思ってちょっとチュートリアル(クイックスタート)なんかを触り始めました。
テンプレートエンジン用ファイル上でのコメントアウトの書き方を理解していなくて、変数見つからないエラーとか出しまくってた。
{{&#8211; コメントアウトしたいコード &#8211;}}って書かないといけない。ていうか、そもそもの外で変な書き方してたのが悪い。
あと、migrationの使い方全然理解していないのでそこで詰まった。
検索フォームの値を受け取ってモデルに検索処理投げてレコードオブジェクト(モデルイングタンス？)受け取る処理はコントローラーに書くの？それともViewファイル？
わかりません。。。</div>
    <div class="tags">
      6 Dec 2013
      
        
          <a href="http://tech.k-zak.com/tags/laravel4/">#Laravel4</a>
        
          <a href="http://tech.k-zak.com/tags/php/">#PHP</a>
        
       
    </div>
  </div>

  <div class="article">
    <div class="title"><a href="http://tech.k-zak.com/2013/11/13/trouble-charset">FuelPHPで文字化けーアップロードファイル名とメール添付ファイル名</a></div>
    
      <div class="categories">
        
          <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/">勉強日誌</a>
        
          <a href="http://tech.k-zak.com/categories/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/">トラブル</a>
        
      </div>
     
    <div class="description">FuelPHPをUbuntu上で作成してWindows環境(Win2003、IIS6)に納品した結果、
Windowsのクライアントからファイルアップロードするとアップロードされたファイル名が文字化けしている！ (PHPの内部エンコードがUTF-8だけどWinがShift-JISだから)
→アップロードは送信メールに添付したいがためにしているだけなので文字化け解消しなくても良かったのですが、後でアップロードフォルダ内の整理や確認等人力で行う場合に視認性が悪いので無理やり対応。
FuelPHPのUpload::save()を行う前に
ってやってアップロードファイル名をエンコードする。
弊害としては本来は内部エンコードのまま処理が進むはずだったので、同名ファイルが有る場合に枝番を付加する処理なんかが正常に動作しなくなる。
これでWindowsサーバーのフォルダに読める文字のファイル名でアップロードされる。
最初エンコードをSJISにしてたけど、CP932にしたら、①みたいなMS拡張の機種依存文字も大丈夫になった。
本当はもっとスマートな方法が欲しかったんだけど、ファイルを置くところの処理がCoreファイルで作られていて入り込む余地が無いように思えた。それとも Upload::register('after',function($file){ 文字化け状態のファイルをエンコードしなおしたファイル名でリネーム })  とかやったら良かったのかな？
文字化け状態でアップロードされたファイルをメールの添付に加えると添付ファイル名も文字化け！ (ま、そりゃそうですね)
→上記１の結果を受けてメール送信のメソッドに引数として添付ファイル名を渡す。その処理は何も加工しない。
メール送信用のメソッドの中で、引数で受け取った添付ファイル名をFuelPHPのmailに渡す処理を加工
それでも、メールヘッダがISO-2022-JPなので、機種依存文字の類はメールを受信した時に「?」とかになってるけど、それはしょうがないよね。
メールの件名が文字化けすることがある！ →犯人は半角カナ。使わないで！件名はFuelPHP側で送信時にISO-2022-JPに変換してるっぽいので、mb_convert_kana関数使って件名に含まれている半角カナを全角に変換して誤魔化す。
以上、うんこメモでした。</div>
    <div class="tags">
      13 Nov 2013
      
        
          <a href="http://tech.k-zak.com/tags/fuelphp/">#FuelPHP</a>
        
          <a href="http://tech.k-zak.com/tags/php/">#PHP</a>
        
       
    </div>
  </div>


</div>


<paper-item>
  
    <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/page/2/"><paper-fab icon="chevron-left"><a></a></paper-fab></a>
  
    <div class="flex"></div>
  
    <a href="http://tech.k-zak.com/categories/%E5%8B%89%E5%BC%B7%E6%97%A5%E8%AA%8C/page/4/"><paper-fab icon="chevron-right"></paper-fab></a>
  
</paper-item>


      <paper-item>
        <div class="copyright"></div>
        <div class="flex"></div>
        <div class="design">Design <a href="http://pdevty.github.io/blog/">pdevty</a></div>
      </paper-item>
    </paper-scroll-header-panel>
  </paper-drawer-panel>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  
</body>
</html>
