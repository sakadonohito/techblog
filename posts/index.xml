<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on 開発メモてきな</title>
    <link>https://tech.k-zak.com/posts/</link>
    <description>Recent content in Posts on 開発メモてきな</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <lastBuildDate>Wed, 24 Feb 2021 04:25:49 +0900</lastBuildDate><atom:link href="https://tech.k-zak.com/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>2021 02 24 お久しぶりです</title>
      <link>https://tech.k-zak.com/posts/2021-02-24-%E3%81%8A%E4%B9%85%E3%81%97%E3%81%B6%E3%82%8A%E3%81%A7%E3%81%99/</link>
      <pubDate>Wed, 24 Feb 2021 04:25:49 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2021-02-24-%E3%81%8A%E4%B9%85%E3%81%97%E3%81%B6%E3%82%8A%E3%81%A7%E3%81%99/</guid>
      <description>久し振りにHugoを更新してみる 長らく何もしていなかったので色々更新するのにだいぶ手間取った。 Hugoそのものを更新するのにbrewの更新や不備を直したり、なぜかついでにEmacsを最新にアップデートしたり。
更新作業したもの  brew(brew doctorしていろいろあって大苦戦) Emacs(brewで整合性とったり動かなくなった設定直したり大苦戦) Hugo ブログのテンプレートちょこちょこ直した GitHubのSSH鍵(pushでエラー出るようになってて結局鍵を新しくした) このブログのGitHub Pagesの設定でhttpsに変更  新たに発見したことやったこと 虚しい更新作業の合間に発見したちょい技や機能があった。
1. デスクトップをきれいにする小技 正確にはデスクトップを整理整頓するのを諦めて、シェルでデスクトップの表示非表示を切り替えるようにした。
defaults write com.apple.finder CreateDesktop -boolean false &amp;amp;&amp;amp; killAll Finder でmacのデスクトップ上のものを非表示にできる(falseをtrueにすれば逆の設定になる)。 んでそのシェルをAutomatorでアプリケーションに登録してLaunchpadで呼び出して実行すれば切り替えられるという。
2. pbcopy macにあるコマンド。初めて知ったような忘れていただけのような。 今回GitHubに登録する鍵(pubの方)をGitHubのページで貼り付けるのに使った。
cat id_rsa.pub | pbcopy って感じでクリップボードに送り込めるのでGitHubの入力フォームで貼り付け！ 便利なコマンドがあったんですね。以前はターミナル上もしくはエディタで開いたものをコピーしてたけどこれなら余計な改行やスペースが混ざり込む心配が無いですね。
3. GitHub Pagesのhttps化 このブログが長らくhttpsにしないで放置していたのでどこかに移行してhttps化しようと考えていたんだけどいつの間にかGitHub Pagesはhttpsできるようになっていたんですね。 早速設定でhttpsをオンにした。
やれやれですよ。。</description>
    </item>
    
    <item>
      <title>Not Posted</title>
      <link>https://tech.k-zak.com/posts/2017-12-31-noposts/</link>
      <pubDate>Sun, 31 Dec 2017 11:49:55 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-12-31-noposts/</guid>
      <description>2017年記事にしそこねたやったこと  コマンドプロンプト(バッチファイル) コマンドプロンプトからPowershell実行 シェルスクリプト AWS System Manager Run Command (sum) VagrantでSQL Server他DBもセットアップしたよ Nano Server試そうとした React Redux…etc Webpack Docker再入門とWP開発環境の作成 WordPressテーマ開発用のベースを作成した AWS Lambda をPythonで AWS Lambda をNode.jsで CakePHP 3 tutorial 少しやった Vagrant でPHP開発環境作成 Terraform試した Hugo用テーマを作成した  忙しいというよりは怠惰だったのと、Hugoのテーマを変えてからやろうと言い訳してるうちに忘れてしまった。
コマンドプロンプト(バッチファイル) Windowsサーバーでバッチファイルで操作しようとした時に少しおぼえた。
例えばこんなこと。実行結果を変数に入れるのが面倒。
setlocal enabledelayedexpansion for /f %%a in (&#39;whoami&#39;) do @set watashi=%%a echo %date% %time% !watashi! &amp;gt;&amp;gt; execute.log 別プロセスで実行する方法
start %~dp0\called_subscripts\computer_restart.bat %~dp0 はLinuxでいうところのpwdみたいなもの
コマンドプロンプトからPowershell実行 @powershell てやればできる。
シェルスクリプト 少し覚えた。 $#は引数の数 $1は引数の一つ目 if [ a op b ]; てやつとaとbをopでチェックできる。変数の値のチェックやファイルの存在チェックなどを行う。 ファイルの存在チェックはシンプルに-e オプションを使う。</description>
    </item>
    
    <item>
      <title>First Swift</title>
      <link>https://tech.k-zak.com/posts/2017-12-30-first-swift/</link>
      <pubDate>Sat, 30 Dec 2017 14:39:52 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-12-30-first-swift/</guid>
      <description>PlaygroundでSwift 初めてということでもないけど初心に帰ってSwiftをPlaygroundで触った。
iOS再再再入門 xcodeで新規プロジェクト作成してMap UI Kit?使ってべっ！っておいたらそれだけでMapアプリ完成。
Swift再入門  varは変数 letは定数 Swiftはブロックスコープ 繰り返しはfor n in range{}  まだまだ入り口。</description>
    </item>
    
    <item>
      <title>Mac Account Broken</title>
      <link>https://tech.k-zak.com/posts/2017-12-29-mac-account/</link>
      <pubDate>Fri, 29 Dec 2017 14:36:17 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-12-29-mac-account/</guid>
      <description>Macのデータ移行時のトラブル  Macデータ移行した アカウントの権限を壊してしまった。  データ移行した TimeMachineを使うと時間はかかるが何も考えなくても諸々移行できるので便利。用途不定になってしまったHDD(1TB)があったのでそれを新たにTimeMachine用にすることにした
アカウントの権限を壊してしまった。 データ移行のついでにアカウント名やアカウント情報を変更したら、管理者権限が外れてしまった。まじ焦った。 権限変更やアカウント情報変更用アカウントを用意してそのアカウントでログインして対象アカウントの情報を変更すべき。
管理者権限が外れてしまったアカウントを復旧させる方法  シングルユーザーモードで起動する(cmd+s押しっぱなし)  rootユーザーでのターミナル操作になる   /sbin/mount -uw / を実行してディスクへの書込許可状態にする rm /var/db/.AppleSetupDoneを実行してセットアップ完了フラグファイルを削除 reboot実行  上記で最初のセットアップウィザードが始まるので、そこで新規に管理者権限を作成する
その後はその新規管理者権限でログインし、権限が壊れてしまった対象アカウントを再度管理者に設定する。
これでめでたしめでたし。</description>
    </item>
    
    <item>
      <title>Wkhtmltopdf</title>
      <link>https://tech.k-zak.com/posts/2017-12-28-wkhtmltopdf/</link>
      <pubDate>Thu, 28 Dec 2017 14:26:45 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-12-28-wkhtmltopdf/</guid>
      <description>wkhtmltopdfを試した なんとかしてhtmlからPDFを生成する手段を増やしたい。
ということでwkhtmltopdfを試す。
しかしバージョンによって画面サイズがおかしくなる。
結論 0.12.4のバージョンは使わない。代わりに0.12.3を使う。
オマケ wkhtmltopdfをgolangを使ってURL指定してhtmlコンテンツをPDF化する。 この方法であれば、PhantomJSの時と同じでPrint用cssが使える。
golangを試すにあたって我がEmacsにgolangの設定を施した。 GOPATHの関係もあるため、macの時だけ設定を読み込むような設定にした。</description>
    </item>
    
    <item>
      <title>Typescript</title>
      <link>https://tech.k-zak.com/posts/2017-12-27-typescript/</link>
      <pubDate>Wed, 27 Dec 2017 14:10:35 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-12-27-typescript/</guid>
      <description>初めての？Typescript TypeScript自習 TypeScript 日本語ハンドブック | js STUDIO 他Quitなど
上記ハンドブックを読みつつ少しコードを書く。 ビルドは上記ハンドブックの方法だとうまく動かなかったので、別途Qiitaで調べた。
感想 まだ途中。 型をそこまで書きたくない。推論して欲しい。 PHPのタイプヒンティングと戻り値の型指定程度で十分だと思う。 でも引数の型指定なんかは別途定義をかけるので、メソッド本体の記述はスッキリして良いと思った。
気づき ちゃんと使ってこなかったので、今更constで変更不可になるのは変数そのものが変わる場合のみで、オブジェクトのプロパティは変更可能だと知った。
つまりイミュータブルなオブジェクトやインスタンスを定義したい場合は型を定義しないと防げない。</description>
    </item>
    
    <item>
      <title>Lolipop Cloud</title>
      <link>https://tech.k-zak.com/posts/2017-12-25-lolipop-cloud/</link>
      <pubDate>Mon, 25 Dec 2017 14:13:02 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-12-25-lolipop-cloud/</guid>
      <description>Lolipopマネージドクラウドを試してみた まだベータで無料で少し使えるようだったので試した。
簡単に作れた。恐らくコンテナで動いている。
PHPのコンテナを作成すると別の場所にあるMySQLにデータベース領域を与えられる。 PHPからは提供されたDBのホスト名で接続できる。
LolipopCloudのデータベースについて charset として utf8mb4 は使える。 collate は utf8mb4_unicode_general_ciになる。なんでutf8mb4_binじゃないの？
オマケ ついでにグリッドレイアウトも試した。
忘れていたこと metaタグにviewport指定しておかないとメディアクエリーの指定が効かない。 CSSにメディアクエリー書く場合、デフォルトのスタイルは最も小さいサイズで書くとよいっぽい。 グリッドレイアウトは1frで指定しておくとグリッドそのもののflexbox指定はいらないかもね。</description>
    </item>
    
    <item>
      <title>Groovy TLS</title>
      <link>https://tech.k-zak.com/posts/2017-12-12-groovy-tls/</link>
      <pubDate>Tue, 12 Dec 2017 14:04:58 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-12-12-groovy-tls/</guid>
      <description>久しぶりにGroovyを触った Groovyで作成したプログラムがTLSで通信できるようにしないといけなくなったので少し調べた。
Javaの場合 javaで強制的にTLS1.2を使うようにするにはJVM起動時オプションを渡す Java7はデフォルトでTLS利用可能 Java8はデフォルトでTLS1.2使える
JVM起動オプションに
-Dhttps.protocols=TLSv1.1,TLSv1.2 -Djdk.tls.client.protocols=TLSv1.1,TLSv1.2 を指定する。Eclipse等IDEの場合はJREの起動VMオプション設定に追加する。
Groovyの場合 System.properties[‘https.protocols’] = ‘TLSv1.1,TLSv1.2 ’ System.properties[‘jdk.tls.client.protocols’] = ‘TLSv1.1,TLSv1.2 ’ これシステムプロパティを書き換えてるので、同時に他社のJVMプログラムとかあったりすると影響与えそうなんだけど&amp;hellip;&amp;hellip;</description>
    </item>
    
    <item>
      <title>Socket.io</title>
      <link>https://tech.k-zak.com/posts/2017-12-07-socketio/</link>
      <pubDate>Thu, 07 Dec 2017 13:56:42 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-12-07-socketio/</guid>
      <description>Node.jsとSocket.io Node.jsの復習ついでにSocket.ioを試した。
メモ  emitで送信者から送信者以外全員に送信 broadcastで全員に送信 socket.idを指定することで特定の相手にのみ送信 /namespace#room#idで特定の相手に送信できる。idのみだとダメっぽい。 redisにメッセージを押し込んでおくと複数プロセスでメッセージを共有できる  オマケ alpineのredisのdockerイメージを使うと軽くてお得。
以下でredisのtail -fぽい感じで全部見れるので便利
$&amp;gt; redis-cli -h ${HOST} -p ${PORT} monitor </description>
    </item>
    
    <item>
      <title>Setup OTRS</title>
      <link>https://tech.k-zak.com/posts/2017-11-28-otrs-install/</link>
      <pubDate>Tue, 28 Nov 2017 22:00:00 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-11-28-otrs-install/</guid>
      <description>OTRSをインストールしてみた オープンソースのチケット管理システム的なもの主にサービス・サポート部署で使うようなもの
セットアップ 環境はUbuntu16.04
基本はダウンロードしてきて実行するだけ。 本体はWeb公開領域におけばいいかな?
つまったところ  anynevを使おうとして詰まった、anyenvをシステムワイドに使う場合は割り切ってrootで設定する plenvをインストールすることはすんなりいくが、モジュールパスなどで使おうとすると詰まる  -&amp;gt;システムのperlを結局使うことに   cpanmでDBD::mysqlをインストールする場合、以下の事が必要  先にMySQLがインストールされていること Ubuntuの場合はlibmysqlclient-devがインストールされていること   というか/opt/otrs/bin/otrs.CheckModules.pl の実行で必要なモジュールが確認できる モジュールが依存するライブラリも存在するので合わせて入れること  感想 domainやメールの設定がちゃんとできていれば特に躓くこと無くセットアップできそう。 最終調整？セットアップがGUIのため、Ansibleでセットアップとかは難しそう。</description>
    </item>
    
    <item>
      <title>anyenv systemwide</title>
      <link>https://tech.k-zak.com/posts/2017-08-10-anyenv-systemwide/</link>
      <pubDate>Thu, 10 Aug 2017 22:28:13 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-08-10-anyenv-systemwide/</guid>
      <description>anyenvをシステムワイドにインストールしようとした 環境はUbuntu16.04
anyenvをシステムワイドにインストールしてrbenvいれようとしたら、sslのチェックを無視しないと入らなかった。 rbenvからrubyをインストールしようとしたらダウンロードに失敗してできない。
結論から書くと apt-get install ca-certificates して、ca-certificates入れてからrbenv install を再度試したら成功した。</description>
    </item>
    
    <item>
      <title>Selenium WebDriver Setup</title>
      <link>https://tech.k-zak.com/posts/2017-06-30-selenium-setup/</link>
      <pubDate>Fri, 30 Jun 2017 11:32:45 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-06-30-selenium-setup/</guid>
      <description>Selenium WebDriver を試してみた 環境は
 Ubuntu 16.04 Python 3.6.1  ついでにChromeのheadlessモードも試す。
事前準備 pyenvで3.6.1を入れてお試し環境にセットする
gecko driverをダウンロード Release v0.17.0 · mozilla/geckodriver · GitHub ※任意のバージョンを入れる。
PATHを通す。今回は/usr/local/sbin/に置いて勝手にPATHが通るようにした。
Chromeを最新にする バージョン59にする。 ChromeDriverDownloads - ChromeDriver - WebDriver for Chromeをダウンロードしてgeckodriverと同じくPATHの通った場所に配置する。</description>
    </item>
    
    <item>
      <title>create wordpress theme</title>
      <link>https://tech.k-zak.com/posts/2017-05-08-wordpress-theme/</link>
      <pubDate>Mon, 08 May 2017 22:28:13 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-05-08-wordpress-theme/</guid>
      <description>WordPressのテーマを作成してみた レスポンシブな自作レイアウトをWordPress用テーマを作成してみた。
今確認してみたら、いくつかおかしい箇所が見つかった(´・ω・`)
大雑把な構成 以下のファイルを作成した。
   name description     404.php 404 Page   category.php カテゴリー一覧ページ   date.php 年月アーカイブページ   footer.php フッター共通パーツ   front-page.php TOPページ   functions.php 機能を記述するファイル   header.php ヘッダー共通パーツ   index.php 割り当てるテンプレートが見つからなかった場合に使われるベースページ   page.php 固定ページテンプレート   sidebar.php 共通サイドバーパーツ   single.php 1記事のページ   style.css 全体のCSSここにテーマ名とかも記述する   tag.php タグ一覧ページ   parts/articles.php 特定の記事の一覧を出力するパーツテンプレート   parts/top-header.</description>
    </item>
    
    <item>
      <title>VSCode</title>
      <link>https://tech.k-zak.com/posts/2017-04-30-vscode/</link>
      <pubDate>Sun, 30 Apr 2017 11:37:10 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-04-30-vscode/</guid>
      <description>VSCodeでよく使うショートカットなど 基本はEmacsを使うけどWindows環境で何かする場合はVSCodeの方が使いやすいので忘備録てきな
画面 コマンドパレット： Cmd+Shift+p クイックオープン： Cmd+p 統合ターミナル： Cmd+` Zenモードとの切り替え： Cmd+k -&amp;gt; z
エディター マルチカーソル： Cmd+Opt+矢印 同じ単語(選択済み？)選択： Cmd+F2 選択した単語を同じもののうち、編集してもよさそうなやつだけ編集： F2</description>
    </item>
    
    <item>
      <title>setting ntp on Ubuntu</title>
      <link>https://tech.k-zak.com/posts/2017-04-24-ntp/</link>
      <pubDate>Mon, 24 Apr 2017 13:48:14 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-04-24-ntp/</guid>
      <description>EC2のUbuntu14.04にntpを設定 事の発端は、AWSのS3へのアクセスのための認証に使用しているCognitoコードで認証エラーがでるようになった。
エラー内容はInvalidSigunatureException なんかタイムスタンプが早すぎるみたいなエラー内容。
Nodeのアプリを再起動しても、AWSのCognitoの設定をみても解決せず。 タイムスタンプが早すぎるって意味わかんねーよってdateコマンドを実行してみたら、あら時刻ずれてるじゃない。。
要はCognitoでトークンを生成するためのタイムスタンプがずれるのでどうしたってエラーになっちゃう問題。
時刻がずれていることが原因と分かったので、暫定措置として時刻をあわせる(日本標準時)。 ※サーバーはUbuntu14.04
sudo ntpdate ntp.nict.jp ※前提としてntpdateがインストールされていること
いろいろ調べていたら、EC2でUbuntuを使うならNTPサーバーを利用して下さい的な感じだった。
 EC2インスタンスでの時刻同期について  NTPを入れる 根本解決のため、NTPサーバー機能をいれる。
sudo apt-get install -y ntp そんで設定ファイルを編集する。 /etc/ntp.conf
 デフォルトの時刻サーバーをコメントアウト 代わりにserver ntp.nict.jpを3行書く  上記の設定と内容の説明については他人の記事をご参照ください。
 NTPサーバーの構築 NTPで時刻合わせ  編集したらNTPサーバービスを再起動する
ぐお、タイムゾーンが 作業したサーバー(どちらもUbuntu14.04)のうち、1つがUTC、1つがJSTのタイムゾーンになってて、キモティ悪かったので、揃える。
sudo timedatectl set-timezone Asia/Tokyo これでOK</description>
    </item>
    
    <item>
      <title>Zabbix remote command</title>
      <link>https://tech.k-zak.com/posts/2017-04-23-zabbix/</link>
      <pubDate>Sun, 23 Apr 2017 22:19:58 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-04-23-zabbix/</guid>
      <description>Zabbixのアクション定義でリモートコマンドを実行する サーバーを監視するソフトウェア？Zabbixで、トリガーを元にアクションを起こす場合、メール通知やSlackにPostする以外に対象のホストもしくは任意のサーバーにコマンドを投げて実行することが出来る。
Agent側の設定 Zabbixエージェント側(コマンドを投げつけられる側)の設定ファイルの
#EnableRemoteCommands = 0 となっている箇所をコメントアウトを解除して値を1に変更する。
Zabbix-Agentサービスを再起動してエージェント側は最低限の準備完了
Zabbix: アクションの設定 アクションの設定で実行内容を「リモートコマンド」にして、タイプを「カスタムスクリプト」にする。
コマンドはエージェント側にスクリプトを用意している場合は、それを、用意していない場合は直接コマンドを書く。
パイプが使えるので、何か実行して結果をテキストファイルに追記するとかが可能。
Zabbixは敷居が高いけど便利ですね。</description>
    </item>
    
    <item>
      <title>Mastodon git clone</title>
      <link>https://tech.k-zak.com/posts/2017-04-18-mastodon-01/</link>
      <pubDate>Tue, 18 Apr 2017 21:34:18 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-04-18-mastodon-01/</guid>
      <description>Mastodonをgit cloneして中を見てみる 今流行りのMastodonをgit cloneしてみた。
中は設定ファイルが沢山とrails関係、フロント用のnode_modules、テスト関係、それからVagrantfileやDocker関係のファイル。
ファイル群について 今日は内容をざっと見るところまで。
内訳は、以下です。ディレクトリを意味するものは最期に「/」をつけています。
 ライセンスとかReadmeとかDocumentとか  CONTRIBUTING.md ISSUE_TEMPLATE.md LICENSE README.md docs/   buildpack  .buildpacks   Heroku用設定ファイル  .slugignore Procfile   デプロイツール(サービス)用  scalingo.json   コードレビュー用？設定ファイル  .codeclimate.yml   エディターの設定統一用設定ファイル  .editorconfig   git  .git/ .gitignore   環境変数設定ファイル(もしかしたらRails専用かも？)  .env.production.sample .env.test .env.vagrant   Ruby on Rails関係  .rspec .rubocop.yml .ruby-version Capfile Gemfile Gemfile.lock Rakefile app/ app.json bin/ config/ config.</description>
    </item>
    
    <item>
      <title>2017 04 09 daily</title>
      <link>https://tech.k-zak.com/posts/2017-04-09-daily/</link>
      <pubDate>Sun, 09 Apr 2017 23:11:59 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-04-09-daily/</guid>
      <description>進捗ありません この1週間、調子が悪かったり仕事に追われたりしていて何も勉強できていない。 少しだけReduxのサンプルを写経して動かない箇所を動くように修正した程度。
ES2015で理解が足りていない事 import Hoge from &amp;#39;./hoge&amp;#39;; //hogeファイルの中でexport defaultされたものをHogeとなづけてimport import * as Hoge from &amp;#39;./hoge&amp;#39;; //hogeファイルの中でexportされたもの全てをHogeオブジェクトとしてimport import { Hoge } from &amp;#39;./hoge&amp;#39;; //hogeファイルの中でHogeという名でexportされたものをimport という理解だったのだけれど、Reduxのサンプルで意図する挙動をしなくて困った。 最終的に記述ミスだったのか、勘違いだったのか、動くようになったけど。
いっぺん基礎を網羅的に勉強しないとダメですね。 しかし、ECMAScript2015のドキュメント原文を読むのはなー。。。</description>
    </item>
    
    <item>
      <title>I use Markdown</title>
      <link>https://tech.k-zak.com/posts/2017-04-03-markdown/</link>
      <pubDate>Mon, 03 Apr 2017 22:43:54 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-04-03-markdown/</guid>
      <description>気がつけばMarkdown いつの頃からかドキュメントはMarkdownで書くようになった。
最初はなんじゃこりゃ書きにくい、意味わからんと思っていた。
でも一度慣れてしまうととても書きやすい。
文章を章立てで考えられるし、VisualStudioCodeにプレビュー機能があってわかりやすい。
そしてBearのようなメモアプリや、何よりHugoのようなMarkdownで書いて静的サイトを生成できるツールに世の中溢れているので、一度慣れてしまうともう戻れない。
WordPressを普通のテキストを書くなんて苦行でしかない。
まとめ Markdown最高！</description>
    </item>
    
    <item>
      <title>agile progress</title>
      <link>https://tech.k-zak.com/posts/2017-04-02-daily/</link>
      <pubDate>Sun, 02 Apr 2017 22:50:25 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-04-02-daily/</guid>
      <description>進捗 直近の目標に対する結果と進捗
 ブログや静的サイトのテーマをつくり込みたい(Pelican,Hexo,Jekyll,WordPress,Hugo,Sphinx) Makerel試したい Dockerをある程度使えるようになりたい  ブログや静的サイトのテーマをつくり込みたい Plican,Hexo,Jekyllについては完了。 Jekyllは二度と触りたく無い。
4月にWordPressのテーマ作成他のテンプレートを作りたい。
進捗としてはまぁまぁ。
期限：5月で変わらず
Makerel試したい 試した。
カスタムメトリクスは真面目にきちんと時間を取らないとだめっぽいので諦めた。
とにかく試したので完了とみなす。
ちなみにトライアル期間終わったのでお金払わないとフル機能試せなくなった。
Dockerをある程度使えるようになりたい 久しぶりに触った。
SwarmやKubernetesはハードル高いので今は諦めた。
ひとまず現状のバージョンのDockerに入れ替えた。
完了としたい。
4月の目標 ブログテーマの作成は引き続き行う。
仕事上の別件が忙しくなるので他の課題を設定せず欲張らず地道にやっていきたい。</description>
    </item>
    
    <item>
      <title>recent frontend circumstance</title>
      <link>https://tech.k-zak.com/posts/2017-04-01-frontend/</link>
      <pubDate>Sun, 02 Apr 2017 22:50:14 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-04-01-frontend/</guid>
      <description>最近のフロントエンド事情はまるで発展途上国の交通事情ですか ES6で書いてES5に変換したいだけなのに、なんなんですか？
ES6からES5に変換したいだけなんだ Babel Babelを使えば変換できる。。。
Babelを毎回実行するのだるいからWebpackでタスクランナー的に実行する。
考えはいい。それで十分だし、何も難しいことはなさそうだ。
でもいざ環境を揃えようとすると&amp;hellip;&amp;hellip;
以下をインストールする。
 webpack webpack-dev-server babel-core babel-loader babel-preset-es2015  webpack.config.jsと.babelrcにも設定を書く。
これですむのならいい。
実行したら文法エラーが出た。
 babel-preset-stage-0  を追加したら解決した。
なんだよそれ！最初からbabel-coreだけで対応しろよ！
他にもbrowserify,babelifyとかいろいろプラグイン的なものがある。
自分の書いたES6のコードを動くようにするのにいったいどれを入れたら動くのか分からない！
BabelとWebpack webpackの設定及び.babelrcにも何を変換処理に使うのか書かないとちゃんと変換されない。
webpackに書いただけじゃダメで.babelrcにも書かないといけない。という認識だけど、多分理解が足りなくて本当は綺麗な書き方があると信じてる。
まとめ ES6で書いてES5に変換するの辛い。
早くブラウザが標準でES6対応してほしい。</description>
    </item>
    
    <item>
      <title>think about redux</title>
      <link>https://tech.k-zak.com/posts/2017-03-31-redux/</link>
      <pubDate>Sun, 02 Apr 2017 22:49:50 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-31-redux/</guid>
      <description>Reduxについて感化されたこと Reduxについて不満に思っている部分について考察している記事を見かけた。
自分もReduxを少し触ってみて「？」と思っていたことなどが言語されていた。
理解して納得していること Reactの場合は上からもらうプロパティはPropsで読み取り専用。
要素ごとにstateという読み書き可能なプロパティを持つ。
ReduxはFluxアーキテクチャの実装。
1つの状態を管理するStoreのみ。
Actionを呼びReducerが状態を更新する。それぞれはプレーンなjavacsriptで書く。
ここまではいい。とても素敵に感じた。
受け入れがたいところ javascriptといえば、画面上の何かを触ったらイベントを拾って画面を変えたりとか、非同期で外からデータを持ってくるとかですよね。
その非同期処理をReduxではどう書くのか、実はActionは処理のオブジェクトを生成するだけだし、Reducerは更新結果の状態を同期処理で作るだけ。
ビジネスロジック的なものや非同期処理はどこに書くのか？
基本的には無い。なので後付け？でてきたMiddlewareてのを作る。
Reduxの思想では、非同期の処理前、処理中、処理結果(成功・失敗)をそれぞれ状態として更新する。
その処理をMiddlewareに書くのだけれど&amp;hellip;書くのだけれど、これがすごく気持ち悪いと感じていた。
いろいろ他の書き方が無いのかとか本来自分はどう書きたいのかということを考えると、乖離が大きく、辛い。
その辺りをReducerの状態を更新する処理のところで非同期処理を呼び出して結果を入れる書き方を考えた方がいらっしゃって、外国のReduxのコミュニティに投稿したら、disられてた。
Reduxの基本設計に不備があって、それをごまかすためのMiddlewareは許されて、Reducerに非同期処理結果を突っ込むのは違うとかって言うの、どうなの？
まとめ ReduxのMiddlewareがいまいち気に入らないので、非同期処理も考慮されたFluxアーキテクチャのオレオレ実装を作るしか無いのか。。。</description>
    </item>
    
    <item>
      <title>jaws-ug container</title>
      <link>https://tech.k-zak.com/posts/2017-03-30-jaws-container/</link>
      <pubDate>Fri, 31 Mar 2017 18:01:34 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-30-jaws-container/</guid>
      <description>JAWS-UG コンテナ支部 の勉強会に行ってきた 行ってきた。。
前佛さんのお話 Dockerは仕様でコンテナが技術っていう話。
開発環境と本番とかステージングの環境が違うっていう問題はコンテナで解決できますね。
Dockerのイメージ・レイヤの概念のおかげで？ベースイメージを共有したり、イメージをコピーするのにも差分レイヤだけコピーするので早いとか。
他のコンテナ技術との大きな違い 今までに同様の技術はあったが、Dockerが大きく違うのは、DockerHubの存在。
自分が作ったイメージはもちろん、他人が作ったものも共有(流用)できる。
docker イメージの Github版。
注意点 ストレージドライバについては要件を考慮して決めましょう的な話。
このあたりを読むと理解が深まるのでしょう。
イメージ、コンテナ、ストレージ・ドライバの理解
ストレージ・ドライバの選択
ECS関連のアップデート Windows コンテナ も試せる Windows Server 2016 の AMIもでてるよ。とか。
ECRについて  フルマネージドDockerレジストリサービス イメージの容量に対して課金 コンテナイメージは自動的に暗号化できる設定がある もちろんIAM使える ECRをCloudTrailで追跡可能 CredentialHelper使ってね  業務上プライベートなDockerイメージを置く場所を作りたい場合なんかいいですね。
社内ビッグデータ基盤にバッチ用コンテナ環境を構築してみた 既存の触りたくないバッチ環境をそのままに、API Gateway、ECS、SQSなんかを活用してバッチ処理環境を改善した話。
既存のサーバーには何も追加したくない、が、curlは基本的に入っているので処理スタートをcurlから始める。
API Gateway を通じてリクエストを受け取り、ECS環境でバッチ処理、処理結果をSQSで通知みたいな。
ボリュームはできるだけ使わない。ログは全てCloudWatchLogsに流す。
すごい。
NTTとDocker ECSで複数コンテナ構成な場合、SpotFleetを活用するとコストを抑えられますって話。
ECSを活用する上での勘所 データについて  なるべくDocker Volumeを使わないで済む設計にする  いつでもインスタンスを捨てられるようにする設計 永続DBデータはRDS,DynamoDBに、ファイルはS3に、ログはCloudWatchLogsを活用する awslogs ログドライバ便利です。積極的に使っていきましょう。   URLパスの設計  ALBを活用しましょう 関連サービスのエントリポイントとかは環境変数で渡しましょう。   セッションの管理  インスタンスにセッションを任せてしまうのは複数コンテナでサービスというのと相性悪い ElastiCache,Redis,Memcachedを活用しましょう。    環境構築について 書き洩らした。ECS-optimized AMIを使いましょうというのとSpotFleet活用しようみたいな</description>
    </item>
    
    <item>
      <title>Powershell</title>
      <link>https://tech.k-zak.com/posts/2017-03-30-powershell/</link>
      <pubDate>Thu, 30 Mar 2017 11:40:40 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-30-powershell/</guid>
      <description>Powershellでやったことメモn Powershellの実行権限について Get-ExecutionPolicy Set-ExecutionPolicy &amp;lt;PolicyName&amp;gt; # RemoteSignedとか よく使いそうなやつ ファイル操作、実行、インストールなど
Copy-Item &amp;lt;&amp;lt;source&amp;gt;&amp;gt; -Destination &amp;lt;&amp;lt;dest&amp;gt;&amp;gt; -Recurse Move-Item &amp;lt;&amp;lt;sourse&amp;gt;&amp;gt; -Destination &amp;lt;&amp;lt;dest&amp;gt;&amp;gt; Remove-Item &amp;lt;&amp;lt;source&amp;gt;&amp;gt; -Recurse Rename-Item &amp;lt;&amp;lt;sourse&amp;gt;&amp;gt; Get-Content &amp;lt;&amp;lt;path/to/file&amp;gt;&amp;gt; Get-WmiObject Win32_Product Enter-PSSession &amp;lt;&amp;lt;container_id&amp;gt;&amp;gt; -RunAsAdministrator docker inspect &amp;lt;&amp;lt;container&amp;gt;&amp;gt; --format=&amp;quot;{{.Id}}&amp;quot; | sv container_id Install-WindowsFeature -Name &amp;lt;&amp;lt;FeatureName | SubFeatureName&amp;gt;&amp;gt; Install-WindowsFeature Web-Server -IncludeAllSubFeature Get-NetTCPConnection Get-WebSiteState -Name &amp;lt;&amp;lt;WebSiteName&amp;gt;&amp;gt; Start-WebSite -Name &amp;lt;&amp;lt;WebSiteName&amp;gt;&amp;gt; Stop-WebSite -Name &amp;lt;&amp;lt;WebSiteName&amp;gt;&amp;gt; Get-WindowsFeature -Name Web-Server Get-WindowsFeature -Name Web-* IIS関連 Import-Module IISAdministration Reset-IISServerManager -confirm:$false $sm = Get-IISServerManager $appHostconfig = $sm.</description>
    </item>
    
    <item>
      <title>Hexo etc</title>
      <link>https://tech.k-zak.com/posts/2017-03-29-daily/</link>
      <pubDate>Wed, 29 Mar 2017 22:37:07 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-29-daily/</guid>
      <description>勉強の進捗とHexoの改修 いろいろいっぱいいっぱいで諦めたことと、作業したこと。
スプリントの進捗  Mackerelのプラグイン試すとか諦めて、3月までの課題終了。 Docker学習、3月までの課題終了。Swarmとか諦めた。  時間に余裕ができたらまた集中して取り組む。
Hexoのレイアウト改修 TOPの画像がサイトタイトルを隠しちゃう感じだったのでCSSを変えるとかしようと考えてた。
行ったこと  画像を変更。ブログテーマに幾分合ってそうなものに変えたつもり。 画像をちょっと暗めにしたかったので少しCSS変更。  いい感じになった。
やらなかったこと 全体的な直しをしようか迷ったけど、要件を十分果たしていると判断して何もしないことにした。
ファイル名、URLパス、記事タイトルが同じじゃないといけないのがちょっとキモい。
そんな感じ。</description>
    </item>
    
    <item>
      <title>docker reinstall</title>
      <link>https://tech.k-zak.com/posts/2017-03-28-docker/</link>
      <pubDate>Tue, 28 Mar 2017 23:57:46 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-28-docker/</guid>
      <description>Dockerを再インストールした Dockerが全然触らないうちにどんどん進化していってしまったので、一旦アンインストールして、入れ直した。
環境はmacOS 10.11 えるかぴたん
やったこと  docker-machine(boot2docker)の中身を全て削除  docker-machine rm defaultとか   docker-machineを完全削除するらしいツールを使って削除実行 Virtualboxを確認して環境が残っていないか確認 .bash_profileに記述していた環境変数設定を削除 homeディレクトリ直下の.dockerみたいな隠し領域も削除 公式から改めてdocker for mac をダウンロードしてインストール ついでに改めてKitematicもダウンロードしてアプリケーションディレクトリに配置  ハマったこと 単に自分が愚かなだけなんだけど、最初、docker-machineを削除した後にターミナルを再起動？しなかったため、Docker関係の環境変数が残ったま間の状態で新しく入れたDockerに対してdocker -vとかやってエラーを出してた。
ターミナルを再起動して解決
ここまで 今日はここまで。
今後、先送りしてたswarmモードとやらを試したりしたい。</description>
    </item>
    
    <item>
      <title>challenge mackerel plugin</title>
      <link>https://tech.k-zak.com/posts/2017-03-27-mackerel-plugin/</link>
      <pubDate>Mon, 27 Mar 2017 23:36:40 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-27-mackerel-plugin/</guid>
      <description>Mackerelのカスタムメトリクスに挑戦 して撃沈。
何が起きたか 公式のヘルプ を見ながら写経してUbuntu 16.04のサーバー上でカスタムメトリクスを作成して設定したが、うまくいかない。エラーが出る。
YYYY/MM/DD 時分秒 INFO &amp;lt;metrics.plugin&amp;gt; command /path/to/sample-metrics.rb outputted to STDERR: &amp;quot;/path/to/sample-metrics.rb: 10: /home/osawa/sample-metrics.rb: Syntax error: \&amp;quot;}\&amp;quot; unexpected (expecting \&amp;quot;then\&amp;quot;)\n&amp;quot; 改行が足りない？
rubyファイルを単独で実行すると動くので謎。
これだからRubyは。
とりあえず、Mackerelは初期設定のままのメトリクスだけでいいや。</description>
    </item>
    
    <item>
      <title>Challenged Jekyll template and hate</title>
      <link>https://tech.k-zak.com/posts/2017-03-26-jekyll/</link>
      <pubDate>Sun, 26 Mar 2017 18:32:49 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-26-jekyll/</guid>
      <description>Jekyllの画面(テンプレート)作った 結論から言うと、二度と使いたくない。
Pelicanの方がいいや。
やりたかったこと  TOPページ：直近5件程の記事タイトルを表示する タグごとの記事一覧ページを作る タグの一覧ページ作る カテゴリごとの記事一覧ページを作る カテゴリの一覧ページ作る アーカイブ(年月)ごとの記事一覧ページを作る アーカイブ(年月)の一覧ページ作る Aboutの固定ページを作る サイドバーにカテゴリ、タグ、アーカイブ、Aboutのリンクを作る  できたこと  TOPページ：直近5件程の記事タイトルを表示する タグごとの記事一覧ページを作る タグの一覧ページ作る カテゴリごとの記事一覧ページを作る カテゴリの一覧ページ作る Aboutの固定ページを作る サイドバーにカテゴリ、タグ、Aboutのリンクを作る  乗り越えた事 HexoやHugoは既存のテーマをそのまま使ったからなんとも言えないけど、Pelicanは一から作った際にも苦労しなかったカテゴリやタグの一覧ページを作るのにJekyllは苦労した。
標準で機能がついてなくて、pluginディレクトリにページを生成するモジュール？を書いて対応した。
公式に載っているコードをほぼそのまま使いまわしたんだけど、Rubyの世界というかJekyllではカテゴリやタグごとのページ生成は静的サイトジェネレーターの標準機能のうちには入らないらしい。
あきらめた事 アーカイブページ 上記のカテゴリやタグのページ生成のノリでいけるかと思ったけど無理だった。
正確には気持ちが切れた。
Pelicanの場合、記事リストをgroup by　した結果をそのままfor分で使えるのだけれど、Jekyllが使っているテンプレートエンジンではできないらしく、いちいち変数にアサインしないといけない。そのくせ、変数にアサインする時はgroup by も sort もできるらしい。
あと、気づかなかったんだけど、記事のデータに投稿年月日の年や月のデータがないので結局こねくり回さないと、年や月でgroup byした記事リストの抽出がうまくできない。
この、年月ごとに記事リストを抽出したオブジェクトが簡単には生成できないので、サイドバーの表示もアーカイブリストの生成もうまくできそうにないので諦めた。
あと、ググって出てきた書き方が汚いというか美しくないというか、「え？こんな手続き型なめんどくさい記述をテンプレートで書くの？」みたいなのが散見されて嫌になった。
まったくもう。
参考 Jekyll公式
まとめ Rubyを理解したら見直せるかもしれないけど、それまではもう触りたくない。
記事の投稿だけはして使い続けてみる。</description>
    </item>
    
    <item>
      <title>replace hugo post rule</title>
      <link>https://tech.k-zak.com/posts/2017-03-25-replace/</link>
      <pubDate>Sat, 25 Mar 2017 22:43:59 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-25-replace/</guid>
      <description>Hugoの記事の命名規則を見直して直した 辛かった。
カテゴリ名、タグ名、ファイル名、記事のタイトル。これらが日本語だとジェネレート後のディレクトリ名、ファイル名、URLパス等で日本語が混ざってしまうので、片っ端から探して変更した。
今後は記事内容以外では絶対に日本語を使わないようにしないと。
これはおそらくHugoに限らず静的サイトジェネレーターならだいたいそうだと思う。
しかしカテゴリ名やタグ名で日本語使えないのは辛いな。。</description>
    </item>
    
    <item>
      <title>I tried Mackerel</title>
      <link>https://tech.k-zak.com/posts/2017-03-24-meckerel/</link>
      <pubDate>Fri, 24 Mar 2017 18:32:38 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-24-meckerel/</guid>
      <description>勇気を出してMackerelを試してみた 前々から気にはなっていたMackerelをお試しで入れてみた。
 VPS契約しているUbuntu16.04 使い捨てのAWS上WIndows2012  インストール ヘルプに書いてある通りに作業してつまずく事もなくすんなりできた。
監視項目 デフォルト監視項目 通常の監視項目で既に普段Zabbixで見て使っている項目を監視できているので、Zabbix使いこなす気がないならMackerelでいいかなって思った。
カスタムメトリック 今回はまだ試していない。
けど、簡単そうだ。
プラグインの作成 今回はまだ試していない。
golangじゃないといけないのかと思っていたけれど、他の言語でもいいらしい。
外形監視 ホストが止まっても監視を続けるので、仕様上間違ってはいないんだけどずっとエラーがで続ける。
ホストをメンテナンスにしたり停止したりした時は外形監視も停止する仕組みがあるといいいかなって思った。
外形監視の定義削除しかなかったように思える。
通知設定 通知設定も簡単だし、いろんなサービス(Slackとか)と簡単に連携できるのも魅力だなと感じた。
まとめ まだプラグインを試していないのだけれど、とにかくヘルプドキュメントが素晴らしいと感じた。
自分ならそこまではやらないよってくらいに丁寧に書いてあった。
特に感心したのは他サービスと連携するために、他サービス上での設定の説明が画面キャプチャ入りで説明されていたこと。
小規模な場合にフリーでどこまで使えるのかフリープランを調べていきたい。
Zabbixサーバーを一台用意する場合との費用比較とか調べていきたい。</description>
    </item>
    
    <item>
      <title>i got caught in utf8</title>
      <link>https://tech.k-zak.com/posts/2017-03-23-utf8/</link>
      <pubDate>Thu, 23 Mar 2017 21:47:31 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-23-utf8/</guid>
      <description>UTF-8-MAC にまたしてもやられた 全角のチルダだか波ダッシュだかがmacOSの時とそれ以外で違う文字コードなのか別の文字なのか、とにかく想定外の文字コードのものがバリデーションをすり抜けてきた。
一つのOS上で禁止文字を羅列して出来たつもりになってたけどUTF−8−MACにはこれからも悩まされるんだろうなー。</description>
    </item>
    
    <item>
      <title>Bitbucket is cool</title>
      <link>https://tech.k-zak.com/posts/2017-03-22-bitbucket/</link>
      <pubDate>Wed, 22 Mar 2017 21:47:01 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-22-bitbucket/</guid>
      <description>Bitbucketけっこういいかも プライベートリポジトリ欲しくてBitbucket試してみた。
乾燥 Gitが使えるのでhg clone フォー！(古い)とかやらなくていいし抵抗なくて使えていいですね。
なんかWikiとか課題(issue)とかも使えるし、どうやらGithubPagesみたいのもできるみたい。 なんかTrelloともなんか連携できるみたいでいいですね。
使いこなせる自信ないけどPipelineてのもあるらしい。
Githubとの使い分けがなやましいけど、とりあえずはプライベートにしたいものは基本Bitbucketにしよう。</description>
    </item>
    
    <item>
      <title>Agile and Sprint myself</title>
      <link>https://tech.k-zak.com/posts/2017-03-21-thinkagailemyself/</link>
      <pubDate>Tue, 21 Mar 2017 23:52:11 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2017-03-21-thinkagailemyself/</guid>
      <description>自分の目標をアジャイルにスプリントな感じで少しずつ達成していきたい と、言うことです。
覚えたいこと、挑戦したいことを目標とするはいいけど、いつまでたっても着手しなかったり遅々として進まなかったりするので優先順位をつけて期限を設けて手中して取り組んでいけば少しは結果が変わってくると信じたい。
現在の目標  ブログや静的サイトのテーマをつくり込みたい(Pelican,Hexo,Jekyll,WordPress,Hugo,Sphinx) AWSの機能のだいたいを触って感覚を掴んでおきたい Microsoft Azureを触ってAWSとの違いを掴んでおきたい GCC？を以下略 Blumixに挑戦したい FreeBSDを構築したい Alpineを構築して慣れたい Ansibleを一通り触っていろいろできるよういなりたい Dockerをある程度使えるようになりたい IPv6の学習と擬似ネットワークの構築してみたい VPNの設定をGUIじゃなくても設定できるようになりたい VyOS？を試してみたい Shell及びAWKを覚えたい Powershellを覚えたい dot net C#を覚えたい Javaを覚えたい Androidを覚えたい Swiftを覚えたい JavaScriptをもっと使いこなせるようになりmたい Perl6/Perl5を使えるようになりたい PHP7を覚えたい PHPのフレームワーク、Laravelを覚えたい Nginxに組み込むLuaを少し試したい Ruby/Railsを覚えたい Python3をもう少し使えるようになりたい Scalaちょっと覚えたい Lispわかるようになりたい Clojure書けるようになりたい Haskell読めるようになりたい F#ちょっとしたものなら書けるようになりたい ActiveDirectory/OpenDirectoryがわかるようになりたい。 Golang書けるようになりたい Makerel試したい Erlang読み書きできるようになりたい Elasticsearch扱えるようになりたい Neo4j試したい MongoDB試したい DynamoDB試したい Redis扱えるようになりたい  とっても曖昧なものが多い。。
今もっとも取り組みたいことを多くて3つに絞るなら  ブログや静的サイトのテーマをつくり込みたい(Pelican,Hexo,Jekyll,WordPress,Hugo,Sphinx) Makerel試したい Dockerをある程度使えるようになりたい  以下、打ち消し戦のものは現時点で達成済みのもの
1. ブログや静的サイトのテーマをつくり込みたい Pelican,Hexo,Jykell,WordPress,Hugo,Sphinxで動かし始めた静的サイトのテーマを一から作ってみたり、採用したテーマをカスタマイズしたりして見やすさやアクセスのしやすさを向上させる。
目的  各静的サイトジェネレータのテンプレートの書き方を覚える レスポンシブレイアウトを一から作ってみてカラダで覚える GoogleAnalyticsやアフィリエイトコードの埋め込み等を試す  達成条件:5月上旬までに  ベースとなるレスポンシブレイアウトを作成する Pelican用のテーマを一から作成する(jinja2) Hexoで採用したテーマを見直し改良する(ejs) WordPressのテーマを一から作成し、よく使いそうな関数のチーとシート的なものを作成する(PHP) Jekyllのテーマを一から作成してjinjaとの違いを体感する。(?</description>
    </item>
    
    <item>
      <title>Pelicanのレイアウト作成</title>
      <link>https://tech.k-zak.com/posts/create-pelican-theme/</link>
      <pubDate>Mon, 20 Mar 2017 18:26:58 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/create-pelican-theme/</guid>
      <description>Pelicanで使う自分用テーマを作成した 静的サイトジェネレーター用の基本的なブログレイアウトを一つ作っておくと使い回しができると思い、Python製のPelicanから着手することにしてみた。
結論から言うと、なかなか時間がとれないのもあって、足掛け2ヶ月かかった。
その1：ベースとなるレイアウトを素組する htmlとCSSのみでできるだけレスポンシブな簡易ブログ用のレイアウトを考えて作った。
https://github.com/sakadonohito/site-base-theme
flexboxを中途半端に使っているのと、Pelicanテーマ作り終わってからフィードバックしている部分もある。ホント適当。
CSSはSCSSからWebpackでビルドしているけど、限りなく必要ないレベル。 EmacsならSCSS保存する時にCSSをビルドしてくれるのでホント不要な構造、しかも作り終わる前にWebpackは2がでちゃってバージョンが古いというオマケつき。 そうです、Webpack使ってるぜアッピルがしたかっただけなのです。
その2：Pelicanのテーマを作る  ググって出てきたシンプルなテーマをコピーして 作ったベースレイアウトにまるっと取り替えて 変数部分がちゃんと展開されるように調整して パーツをバラす  みたいな感じで作成。
結局よくりようしたのは公式ドキュメント
ハマったところ 1. 見本にしたテーマのパーツ毎の役割がよくわからなかった categories.htmlとcategory.htmlってあって、最初複数形のはカテゴリ別の一覧表示で単数系のは1記事のパーツかと思ったら、複数形はカテゴリ名の一覧で単数系が特定のカテゴリでの記事一覧だった。 タグの場合はさらに1記事用パーツレイアウトにはめ込む用の記事に関連づいたタグを横一列に並べるtaglist.htmlなんてのもあって、さらに混乱した。
2. ビルド失敗した時どこでエラーが発生したのか分からない ビルドのエラーログの出力設定があるのか調べていないだけなんだけど、テンプレート作成している時にビルドエラー発生したけど、どこの編集のせいか分からない(1行文法エラーで失敗したぜ！的なメッセージがでるだけ)のでこまめにビルドして確認しながらじゃないと迷路に迷い込む。
ショートカットキーのタイポとかで変な場所に意図せず文字を入力してしまっているのに気づかず、ビルドが失敗した時には、身に覚えがなかったので解決に時間がかかった(2分探索みたいにコードを消したり戻したりしながらビルドしてエラー箇所を探した)。
3. 記事データのリストオブジェクトは生成するページのコンテキストに依存するものがある period_Archives.htmlっていう特定の期間の記事リストを表示するためのパーツの上でarticlesという記事リストオブジェクトは全体じゃなくて、その期間の記事リストオブジェクト。全記事のリストは代わりにall_articlesてのある。じゃぁ常にall_articlesを使えば？ってなるんだけど、TOPとか他の場所だとこのall_articlesは空欄。
4. 年月毎に記事のカウントを取ったりURL分ける方法の説明がおろそか 結論からいうと、URLについては設定ファイルに
MONTH_ARCHIVE_SAVE_AS = &amp;#39;{date:%Y}/{date:%m}/index.html&amp;#39; 他にも AUTHOR_SAVE_AS とか PAGE_SAVE_AS なんかもあるのよ とか書いておくと、/2017/03/みたいなパスで2017年3月の記事の一覧ページが生成される。今にして思うと年のフォルダ&amp;amp;月を意味するファイルの組み合わせでよかったんじゃないか説もある。
年月の記事カウントについては全記事を年でまとめた記事リストの記事リストを作成して「記事リスト」をさらに月でまとめてカウントを取るみたいなことをやる。 これはそんなようなことをするサンプルのテーマがたまたま見つかったから作れたけど見つからなかったらアーカイブのページが断念したと思う。
こんな感じ
&amp;lt;section&amp;gt; &amp;lt;p&amp;gt;Archives&amp;lt;/p&amp;gt; {% if all_articles|count %} &amp;lt;ul&amp;gt; {% for year, date_year in all_articles|groupby(&amp;#39;date.year&amp;#39;)|sort(reverse=NEWEST_FIRST_ARCHIVES) %} {% for month, articles in date_year|groupby(&amp;#39;date.month&amp;#39;)|sort(reverse=NEWEST_FIRST_ARCHIVES) %} &amp;lt;li&amp;gt;&amp;lt;a href=&amp;#34;/{{ year }}/{{ &amp;#39;%02d&amp;#39; % month }}/&amp;#34;&amp;gt;{{ year }}年{{ month }}月&amp;lt;/a&amp;gt;({{ articles|count }})&amp;lt;/li&amp;gt; {% endfor %} {% endfor %} &amp;lt;/ul&amp;gt; {% elif articles %} &amp;lt;ul&amp;gt; {% for year, date_year in articles|groupby(&amp;#39;date.</description>
    </item>
    
    <item>
      <title>Pelicanを試す</title>
      <link>https://tech.k-zak.com/posts/first-pelican/</link>
      <pubDate>Mon, 20 Feb 2017 15:26:44 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/first-pelican/</guid>
      <description>Python製の静的サイトジェネレーターPelicanを試す Hugo,Hexo,Jekyllと試してきて、せっかくなのでPython製のものも試そうとPelicanを試した。
インストール mkdir &amp;lt;&amp;lt;blog&amp;gt;&amp;gt; cd &amp;lt;&amp;lt;blog&amp;gt;&amp;gt; pip install pelican Markdown pelican-quickstart なんかいろいろ聞かれるので適当に答える。今回はS3にFTPで物理コピーをする運用のため、デプロイに関する質問は全てNo。
記事を書く 記事はcontent以下にreStructuredTextもしくはMarkdownで書きます。 content以下にディレクトリを配置するとそのディレクトリ名がカテゴリ名扱いされるらしい。当分はいいや。 もちろん、カテゴリはテキストファイルないのヘッダー？に記述できますので、カテゴリが必要だからといってディレクトリでわかなければいけないわけではありません。
pelican content -s pelicanconf.py でoutputディレクトリに静的ファイルが生成されます。
簡単ですな。</description>
    </item>
    
    <item>
      <title>Jekyllを試す</title>
      <link>https://tech.k-zak.com/posts/first-jekyll/</link>
      <pubDate>Sun, 19 Feb 2017 23:22:39 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/first-jekyll/</guid>
      <description>Jekyllを試す Ruby製の静的サイトジェネレーターを試してる。
インストール 以下下記URLを参考にいろいろ試したけど、情報が古くコマンドが変わってた。 参考
gem install jekyll mkdir _site _posts _site assets mkdir -p assets/css 構造はこんな感じ
├── _config.yml ├── _layouts │ ├── layout.html │ └── post.html ├── _posts ├── _site ├── assets │ └── css └── index.md jekyll serve --watch で編集内容が即時される。
こんな感じでやっていこうと思います。
レイアウトがとてもダサイ感じなので、テーマをちゃんと作っていきたい。
Ruby製だから？ヘルプが分かりやすい。
静的ファイルを生成したい場合はjekyll buildで_siteディレクトリに生成される。</description>
    </item>
    
    <item>
      <title>Hexoを試す</title>
      <link>https://tech.k-zak.com/posts/first-hexo/</link>
      <pubDate>Sun, 19 Feb 2017 22:21:50 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/first-hexo/</guid>
      <description>JavaScriptの静的サイトジェネレーターHexoを試す JavaScript(Node.js)ベースの静的サイトジェネレーターを試してみようと思った。
インストールと初期設定 npm install -g hexo-cli hexo init &amp;lt;&amp;lt;blog-name&amp;gt;&amp;gt; cd &amp;lt;&amp;lt;blog-name&amp;gt;&amp;gt; npm install hexo server これでHexoがインストールされサイトを開始できる hexe serverで開発用のサーバー起動状態になりhttp://localhost:4000にアクセスできる。
_config.ymlを編集する。
title: &amp;quot;サイトタイトル&amp;quot; subtitle: &amp;quot;サブタイトル&amp;quot; description: &amp;quot;サイトの説明&amp;quot; author: &amp;lt;&amp;lt;author&amp;gt;&amp;gt; language: ja timezone: Asia/Tokyo url: http://&amp;lt;&amp;lt;site-domain&amp;gt;&amp;gt; root: / permalink: :year/:month/:day/:title/ languageはjaにしてtimezoneはAsia/Tokyoにした。 urlは公開したいドメイン、rootはトップレベルにした。
permalinkの設定は:year/:month/:day/:title/のデフォルト設定のままにした。
記事の追加 hexo new &amp;lt;&amp;lt;post-name&amp;gt;&amp;gt; これでHugoみたいに初期状態のができる。 このあたり、Hugoと同じ感じで出来るので入りやすい。
当初、React製の「gatsby」にしようかと思ったけど、なんか違うと思ったので、止めた。
Publicファイルの生成 hexo generate これでファイルがpublicフォルダに出力されるので、後は目的の場所にアップロードするだけ。
今回はここまで。</description>
    </item>
    
    <item>
      <title>WordPressからHugoへ移行</title>
      <link>https://tech.k-zak.com/posts/first-hugo/</link>
      <pubDate>Sun, 19 Feb 2017 00:09:41 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/first-hugo/</guid>
      <description>開発メモブログをWordPressからHugoへの移行  WordPressから記事をエクスポート Hugoをインストール エクスポートした記事を放り込む  WordPressから記事をエクスポート  WordPressにHugo向けにエクスポートするプラグインを入れてデータを出す  参考    Hugoをインストール brew install hugo hugo new site techblog cd techblog 書き出した記事を放り込む プラグインを使ってエクスポートした記事データはHugoのcontent/postのpostディレクトリ相当のものが吐き出されているので、中身をcontent/post/にぶちまける。
細かい設定 テーマを入れる 適当なテーマをインストール。今回はPolymer。 themeディレクトリがなかったら作ってその中でgit cloneしたらいいよ。
config.tomlを編集 title,baseurl,languageCode,theme,paginateを修正する。
後で独自ドメインでGitHubPagesで運用するため、canonifyurls = trueを設定する。
GoogleAnalyticsのコードを入れるため、config.tomlに以下を追記
[params] googleAnalyticsUserID = &amp;quot;&amp;lt;&amp;lt;code&amp;gt;&amp;gt;&amp;quot; またURLの構造を検討する。 今回からパーマリンクを以下のようにした。permelink設定を追加
[permalinks] post = &amp;quot;/:year/:month/:day/:slug&amp;quot; これでyyyy/mm/dd/slugというようなURLになる。
URL構造を変更したため、取り込んだ記事のURL属性を消して代わりにSlug属性を追加。結構時間かかった。
新しい記事を追加する時には
hugo new post/&amp;lt;&amp;lt;post-name&amp;gt;&amp;gt;.md で記事の初期状態のものが作られるので後は内容をMarkdownで記述していく。
GitHubPagesで公開する  GitHubにリポジトリを追加 hugoコマンドで出力されるpublicディレクトリの静的ファイルをコミット settingsのGitHub Pagesの項にあるCustom domainにドメインを入れて保存。 hugoのpublicにCNAMEというファイルを追加。内容は公開ドメイン名 再度publicディレクトリの内容をコミット DNS(今回はRoute53)でCNAMEの設定をする。  今回はひとまずこんな感じ。 今後は記事の追加だけじゃなく、テーマを自作していきたい。</description>
    </item>
    
    <item>
      <title>再始動</title>
      <link>https://tech.k-zak.com/posts/restart/</link>
      <pubDate>Sat, 18 Feb 2017 23:26:18 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/restart/</guid>
      <description>ブログ引越して再始動 &amp;hellip;の予定
再始動 契約していたレンタルサーバーを解約して、長らく契約するも放置状態が続いていたVPSにいろいろ引っ越そうと検討。
ついでにいろいろ構成などを再検討してやり直そうと考えました。
構成 レンタルサーバー上のMovableTypeで細々と更新していたアニメやゲームについてのブログをVPS上にWordPressに構築し直しす事に。
ついでにWordPressのカスタマイズの練習台にも使おうという魂胆。
技術メモ的なこの忘備録ブログは今回を機にHugoで静的サイト構築してGithubPagesに載せる事にしました。
他にいくつか静的サイトジェネレーターを運営していろいろ触ってみたいと考えている。
ただ、今の所、上記２ブログ以外は全てS3での静的サイトホスティングでFTPでファイルをアップロードする方法を考えているけど、将来的には違う場所でホスティングしたりデプロイツールを使ったり、CI的なことをしたり、Dockerを使うなどして別の場所にサイトを構築しようかと考えている。
MovableTypeからWordPressへの引越し テキストをずらずら記述していただけだったので、特に問題はなかった。 単純にエクスポートしてインポートしただけ。 インポート後にコツコツとカテゴリやタグを整理して付け直したり。
VPSサーバーの設定やHugoについて 後日、それぞれ別の記事にします。</description>
    </item>
    
    <item>
      <title>Oracle Setup</title>
      <link>https://tech.k-zak.com/posts/2016-11-30-oracle-setup/</link>
      <pubDate>Wed, 30 Nov 2016 11:46:20 +0900</pubDate>
      
      <guid>https://tech.k-zak.com/posts/2016-11-30-oracle-setup/</guid>
      <description>Ubuntu14.04にOracle11gを入れる 大まかな手順  必要なものをいれる(unzip, libaio1, unixodbc, alien) oracle download(rpmパッケージだけどな！) /sbin/chkconfigを作ってあげる alienでrpmパッケージをdebに変換 インストール 設定ファイル周りの編集(パスが違うとか、memory_targetの変更とか) hostsに外向けIPとhostnameの対応を追加(一番大事！)  </description>
    </item>
    
    <item>
      <title>嘘でしょう。。。</title>
      <link>https://tech.k-zak.com/posts/ubuntu-wifi/</link>
      <pubDate>Sun, 08 Mar 2015 05:02:32 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/ubuntu-wifi/</guid>
      <description>長い間悩まされていた問題が解決したかもしれないので、ここに書いておきましょう。
実際に解決したかどうかは、会社と自宅とPocket-Wifiで何回かネットワークを切り替えてから。
悩まされていた問題 会社やPocket-Wifiでは問題ないが、なぜか自宅のWifi環境だとMacのVM上のUbuntu(開発環境)のネットワークが繋がらなくなる。
VMのネットワーク設定を「Macと共有」の時は問題なくて「自動検出」にするとVMのUbuntuのIPが正しく設定されない。
ひとまず解決？ 前提として、このUbuntuはDesktop 14.04LTSです。なのでUbuntuServerの場合は違うかも。
/etc/NetworkManager/system-connections/ 配下のネットワークの設定ファイルのファイル名に日本語(マルチバイト文字)が含まれていたので、ASCII文字のみに変更。
/etc/NetworkManager/system-connections/ のファイル名を変更したものを開く
この設定ファイルの中の「connection」にあるidの設定を変更したファイル名に合わせる。
これだけでネットワークつながるようになった。というかipが正しくふられるようになった。
まさかのマルチバイト文字ファイル名問題？</description>
    </item>
    
    <item>
      <title>fmxj.js のサーバーサイドをPHPじゃなくてPerl(Mojolicious)で試す</title>
      <link>https://tech.k-zak.com/posts/challenge-fmxj/</link>
      <pubDate>Mon, 16 Feb 2015 16:09:59 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/challenge-fmxj/</guid>
      <description>先日、SeedCodeの方がFileMakerのCustom Web Publishing の為のJavaScriptとServer side で使うPHPのサンプルをGithubで公開されてました。
https://github.com/seedcode/fmxj
概要としては、FileMaker Server の XML公開を使う。
Web公開エンジンにXML公開のためのリクエストをJavaScriptで生成してサーバーサイドスクリプト(SeedCodeのサンプルではPHP)にpostする。
◆ハマった事：サンプルPHPの内容
サンプルのPHPをよく読んでなかった。。。
JavaScriptからFileMakerのユーザーアカウントとパスワードをpost出来るようにキーバリューを元々のpostデータに加えている。それから本来のpostデータからおまけを除くための追加分のパラメータ文字数もpostに加えている。この辺りの仕様にもんりょりする。
-db=dbname&amp;amp;-lay=layname&amp;amp;-query=(q1)&amp;amp;-q1=Status&amp;amp;-q1.value=Vendor&amp;amp;-findquery みたいな通常のクエリデータに
u=undefined&amp;amp;p=undefined&amp;amp;l=コンテンツの文字数
ていうのがくっついてPHPにpostされてくる。
それをPHP側でphp://inputでリクエストのボディを取得して余計なパラメータを削ってpostデータを作り直してcurl使ってPOSTしてた。
そこに気づかずperlで再現しようとした時にpostデータを丸投げしてエラーになってしまっていた。
なんでpostデータをわざわざこねくり回してるんだろう？て思ってた。
サンプルって事でいろいろハードコーディングされてるけど、気にしない。
◆ハマった：Nginxの設定
欲をかいてPerlでサーバーサイド書くにあたって、FastCGIでさらっと書くじゃなくてMojolicious使うことにしたら
WebServer→Nginxでバーチャルホスト(hoge.sample.comみたいな)とmorboで127.0.0.1:3000で動くMojoliciousになって、何が起きたかって言うとクロスドメインの問題が発生してしまい、エラーになる。
これについてはNginxの設定でproxy_passでMojoliciousにリクエストがリバースプロキシされるようにして解決。
しかしNginx、デフォルトではContent-Typeの書き換えができず、JavaScriptにレスポンスされるデータがXMLになっていなくて、意図する結果に終わらない。既にあるヘッダーに値を追加する処理を行ってしまう。
※Nginxで add_header Content-Type ‘application/xml’してもmime-typeの設定ファイルに追記しても
　Content-Type text/html;charset=UTF-8に application/xmlの値が追記されるだけになる。
その結果、fmxj.jsがXMLHttpRequestのresponseXMLに値がセットされない。そしてresponseXMLがあるの前提になっているXMLをパースする処理のところで結果が空欄になって処理が終わってしまう。
最初fmxj.js内部を書き換えて(responseTextをXMLに変換して)みたんだけど、コアのライブラリを触るのはよくないので、Nginxでちゃんとヘッダを書き換えられる方法を調べる、nginx-extrasを追加でインストールするとmore-set-headerというのが使えるようになり、ヘッダーの書き換えができるようになるとの事だったのでインストール。
自分はUbuntuの環境なので、
 sudo apt-get install nginx-extras
 後はNginxの設定ファイルに(厳密に言うとリクエストを受け付けるLocationディレクティブで)
more_set_headers ‘Content-Type: application/xml; charset=UTF8’;
を追記、more…がヘッダーの追記ではなく書き換えなのでcharsetも忘れずに書く！
これでようやく、Sample.html → fmxj.jsを使ってServerにpostリクエスト → 受けたリクエストをNginxがMojoliciousを動かしてるmorboにリバースプロキシ → MojoliciousがPOSTリクエスト受け取りXML公開のクエリパラメータ付きURLを生成して(生成しなおして)cURLをラップしたライブラリからPOST送信 → JavaScriptにレスポンスが返り、完成。
いろいろとしょーもないミスを沢山した。CGIでサクッと試すだけにしておけば今頃はPythonもRubyも試せてかもしれないのに、残念でした。</description>
    </item>
    
    <item>
      <title>AnsibleのSSH設定について</title>
      <link>https://tech.k-zak.com/posts/ansible-ssh/</link>
      <pubDate>Sun, 08 Feb 2015 14:43:15 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/ansible-ssh/</guid>
      <description>Ansibleがバージョンを上げた所為か今までのやり方だとSSHのコネクションエラーになるようになって、どうも–ask-pass の引数付きにするとパスワードいれて処理ができる事はわかったんだけど、スマートじゃない。
という事で調べた。
結論としては、varsファイルに
・ansible_ssh_user
・ansible_ssh_pass
・ansible_sudo_pass
の3つを書いておきましょう。でした。
最初に呼び出すsite.yml内で変数定義してもいいんだけど、group_varsディレクトリ内にhostsファイルで書くグループ名のyamlに書くのがいいかなって思う。
例えばhostsファイルに
`Ansibleがバージョンを上げた所為か今までのやり方だとSSHのコネクションエラーになるようになって、どうも–ask-pass の引数付きにするとパスワードいれて処理ができる事はわかったんだけど、スマートじゃない。
という事で調べた。
結論としては、varsファイルに
・ansible_ssh_user
・ansible_ssh_pass
・ansible_sudo_pass
の3つを書いておきましょう。でした。
最初に呼び出すsite.yml内で変数定義してもいいんだけど、group_varsディレクトリ内にhostsファイルで書くグループ名のyamlに書くのがいいかなって思う。
例えばhostsファイルに
`
とか書いてグループ名が「dev」の場合に
-playbook\
|
|–dev.yml
|
|–group_vars\
| |
| |–dev.yml
|
|–roles\※内容略
|
|–site.yml
みたいな感じで書く。
group_varsのdev.ymlには上記のようなansible_xxx_xxxを変数定義しておくとグループに対してssh接続の時に定義された値が使われる。これにより–ask-passの指定が必要なくなった。
問題は1つあって、group_varsのdev.ymlは公開したくない場合多いよねって事。
なので更に、ここでいうdev.ymlはansible-vaultコマンドを使って暗号化する。もしくはバージョン管理に含めない運用を行うって事が必要になる。暗号化する場合も復号に使うキー？　ソルトみたいなもん？を書いたファイルを作る必要があって、それがないと暗号と復号ができないんだけど、そのファイルをバージョン管理に含めないって運用にするなら、最初からdev.ymlを含めないでも一緒かなって思う。
ansible-playbookを実行する時に復号のために–vault-passの引数とそのファイルパスを渡さないといけないってのも–ask-pass使うのと大差ないじゃんってなるから暗号化は必要な案件だけでいいかな。
hostsファイルにhostの後に引数オプション的にansible_ssh_passとか書けばいいのだけれども、それもなんだかなー
って事で、今後はgroup_varsもしくはglobalに認識されるような変数を定義するファイルにssh接続情報は書こうかと考えている。</description>
    </item>
    
    <item>
      <title>Ubuntu14.04 でphpでメール受信とか</title>
      <link>https://tech.k-zak.com/posts/php-mail/</link>
      <pubDate>Sun, 01 Feb 2015 14:51:57 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/php-mail/</guid>
      <description>## install postfix
“`
sudo apt-get install postfix postfix-dev sasl2-bin
sudo apt-get install dovecot-core dovecot-dev dovecot-pop3d dovecot-imapd dovecot-gssapt
“`
## Settings
“`
sudo cp /usr/lib/postfix/main.cf /etc/postfix/main.cf
sudo emacs -nw /etc/postfix/main.cf
“`
### 参考
– http://www.server-world.info/query?os=Ubuntu_14.04&amp;amp;p=mail
– http://www.server-world.info/query?os=Ubuntu_14.04&amp;amp;p=mail&amp;amp;f=2
### gmailに転送する設定に変更
relayhostにgmailを指定
パスワードの設定とかね。
## phpでメールを受信出来るよう設定
メールサーバ受信DNS設定とか面倒だからやめた。
phpinfoを見ると案の定imap入ってませんでしたので、php5.5系の落としてきてimapのディレクトリ移動してphpize
### configureで失敗する
configureしたらutf8_mime2text()がうんたらと出てきた。
ググると、どうもphpにimapとかメール関係入れる時にライブラリが足りないと出るエラーのようだ。
sudo apt-cache search libc-client
→libc-client2007e libc-client2007e-dev てのが出てくるので両方インストール
### imapうまく動かない？
この後無事imapインストールできたけどなぜか受信出来ない。いろいろ調べて片っ端からSSL関連インストールしたけどうまくいかない。
### 何が原因だったのか不明
結局、何かのSSL関係のライブラリインストールが最初足りなくてGmail受信失敗してた。
gmailからさくらのレンサバのメールアカウントで試した場合はアカウント名の指定を間違えてた。
テストで受信するだけだから、普通のimapアカウントの場合はnotlsをflagにつける。
gmailの場合は/ssl/novalidation-certみたいのつける</description>
    </item>
    
    <item>
      <title>Ubuntu14.04 LTS でNginx FasCGI Perl</title>
      <link>https://tech.k-zak.com/posts/perl-cgi/</link>
      <pubDate>Mon, 05 Jan 2015 15:51:41 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/perl-cgi/</guid>
      <description>古いPerlのサンプルを参考に復習したくなって、やむなく自分の開発環境にFastCGI環境をセットアップ
最初、コードが間違っているのに気づかず3日ほどあれこれ調べまわっても解決せず時間を浪費した。
502 bad gatewayのエラーでて、ログを見ると Cannot execute script って出てて、調べても分からんし、権限は間違ってるはず無いしでずっとつまずいてた。
結局、
sudo apt-get install fcgiwrap  ※もしかしたら libgcgi-perlも必要？でもなんか下記のfastcgi-wrapper.plを使う場合に必要なやつかも
/etc/init.d/fcgiwrap のFCGI_USERあたりを動かしたいユーザーやグループに変更。※お好みで
sudo sysv-rc-conf on fcgiwrap sudo service fcgiwrap start  でFastCGIが動くようになる。
最初、fastcgi-wrapper.plを使う場合を参考にしてたけど、
参考：http://ubuntu.flowconsult.at/linux/nginx-perl-fastcgi-installation-ubuntu-linux-14-04/
これだとなんかPerlのみっぽかったしTCPだったので、Unixソケットで通信にしたかったのとpythonやRubyでも動かしたかったのでfcgiwrapを使うようにした。
Nginxの設定はlocationディレクティブだけ抜粋すると
#拡張子が.plで終わるリクエストの場合 location ~ \.pl$ { try_files $uri = 404; gzip off; #インストールしたfcgiwrapのソケットファイルのパス fastcgi_pass unix:/var/run/fcgiwrap.socket; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; #/etc/nginx/fastcgi_paramsの内容を読み込む。 include fastcgi_params; }  で
sudo service nginx restart  これで適用にperl書いて(シェバンはもちろん#!/usr/bin/env perl ですよ)試したら動きました。
自分はplenvを使っているのですが、システムのperl読み込まれてライブラリねーぞゴルァなった事があった。謎。
plenvの場合、require syscall.ph とかあると駄目っぽい？
この記事書いてる時に見つけた他の方のWeb。先にここを見つけたかった。。。
参考：http://ekzemplaro.org/data_base/doc/web_server/nginx/</description>
    </item>
    
    <item>
      <title>2014年を振り返る インフラ系</title>
      <link>https://tech.k-zak.com/posts/milestone-infra/</link>
      <pubDate>Tue, 30 Dec 2014 09:50:19 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone-infra/</guid>
      <description>2014年を振り返る。インフラ関係について
今年もっとも多く成長したのはインフラ関係についてだと思う。
来年はもう少しスタートアップ用のシェルスクリプト理解して作れるようになりたい。
PowerShellももう少し覚えてWindowsServer環境の制御も出来るようになりたい。
構成管理は今年手を付けたVagrantとAnsibleをもっと掘り下げていきたい。
VagrantはPackerを使ってVirtualBox以外のボックス作成やEC2へのアクセス。
Ansibleは様々な構成管理、できればWindows環境も。
来年取り組みたいのは、今年やりそこねたメールサーバーやログ設定、それからプロキシ設定かな</description>
    </item>
    
    <item>
      <title>2014年を振り返る サーバーサイドプログラミング</title>
      <link>https://tech.k-zak.com/posts/milestone-serverside/</link>
      <pubDate>Tue, 30 Dec 2014 09:43:52 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone-serverside/</guid>
      <description>サーバーサイドプログラミング(Perl,PHP,Python,Ruby,etc…)について振り返る
まず、コンパイルする系の言語には全然手を出さなかったのでノーコメント。
Groovyはちょっとだけ久しぶりに触ったらバージョンが上がってて言語仕様変わってた箇所でトラブった。
Perl,Python,Rubyについては全然触れなくてフラストレーション。
PHPは少し触ってたけど、使用バージョンがPHP5.4→PHP5.5→PHP5.6といろいろ触ってその間の言語仕様の変更に惑わされたりした。
本当はテストコードがしっかり書けるようになりたかったけど、いろいろ自分が足りなくて駄目だった。
家にたまった古い書籍も含めて処分していきたいので2015年はバシバシコードを書捨てていきたい。
PHP7が来年だか再来年にリリースされることによって現場には相当バージョン違いのプロジェクトが出てしまうと思うので、できれば新規案件は
枯れたPerl5系かPython3系(サポートがだいぶ長引くことになった2系も場合によっては)でチャレンジしたい。
Rubyは…どうだろう。試しやプロトタイプにはいいのかも、ただしSinatra限定。ツールはRuby系が多いのでRubyでいろいろ学習してから他の言語のものを使うようにするといいのかもしれない。</description>
    </item>
    
    <item>
      <title>2014年を振り返る JavaScript編</title>
      <link>https://tech.k-zak.com/posts/milestone-js/</link>
      <pubDate>Tue, 30 Dec 2014 09:34:05 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone-js/</guid>
      <description>今年を振り返ってみる。クライアントサイド、特にJavaScriptについて
JavaScriptについては今年、なるべくjQueryを使わないようにチャレンジする時期があった。
結局IEとの互換を維持するコードを書かないといけない事を考えるのが面倒になってjQuery使わないの諦めた。
document.getElementByIdとか使える場合は積極的に使ったほうがコストが抑えられるけど、中途半端に混ぜても他のオブジェクトとの兼ね合いで結局jQueryオブジェクトに変換しないといけなかったりして、もにょる。
jQueryでdata属性使うとキャッシュの関係で後から値の変更がうまくいかないとか、なんて地雷だよ！て憤ったよ。
ただ今後はBackbone.jsに手を出していきたいと考えているのでjQueryとは仲良くやっていきたいと思っている。
ただ、思ったよりはJavaScriptの学習や経験は積めなかったのが残念。
もっとCanvasとかSVGのコントロールとか挑戦したかったし、TypeScriptやClojureScriptにも挑戦したかった。
CoffeeScriptはちゃんと学習する前にオワコンになりそうだし、あんまりやらなくていいかなって考えている。</description>
    </item>
    
    <item>
      <title>思い出せない</title>
      <link>https://tech.k-zak.com/posts/milestone/</link>
      <pubDate>Sat, 25 Oct 2014 16:10:39 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone/</guid>
      <description>前回の投稿から1ヶ月以上過ぎていて、何か書こうと思ったけど、ここ1ヶ月何やってたか記憶がほぼない。
サーバー関係 ログローテーションの設定を行った。
yum install logrotate
/etc/logrotate.d/配下に追加の設定を行う
/var/log/httpd/_/_logとかやるとユーザーごとに設置したログ・ファイル全てを対象にしたローテーション設定ができる
Ansible 1台のサーバーでTomcat、Gitbucket、Jenkins、Redmineを動かす計画をしているのでVagrantで実験中
ついでにNginxをフロントにおいてGitbucket(Tomcat)、Jenkins、Redmine(Unicorn)、PHP(Apache)にリバースプロキシにする予定。
yumモジュールはnameでhttpでrepl指定してもインストールできるようだ。
後でNginxでリバースプロキシの設定する予定だからTomcatのデフォルトポートはそのままに、Jenknsは8010とか競合しない番号にポート変更。
Tomcatの自動起動スクリプト調べて作ったんだけど、何かよろしくなかったらしい。daemon化うまくいかなかった。
JavaScript AWSのS3へのアップロード・ダウンロードがJSのみで出来ないか調査。サンプルがいろいろあって試していたら出来た。
マルチパートアップロードの場合はファイルをバッファ分割しながら送信するのがミソ。
AWSのS3のCORSで許可ヘッダーの設定が必要でした。
PHP namespaceやautoloadをまだ理解しきれていない部分があるようで、読み込みで躓く
毎日ちゃんとメモとらないと駄目ですね。。</description>
    </item>
    
    <item>
      <title>新しく開発環境作成中</title>
      <link>https://tech.k-zak.com/posts/dev-env-vm/</link>
      <pubDate>Mon, 15 Sep 2014 15:48:13 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/dev-env-vm/</guid>
      <description>Ubuntu14(64bit)のVM作成   イメージからVMWareFusionに作成  ホームディレクトリ以下のディレクトリ群が日本語なので英語名に変更
  ターミナルから LANG=C xdg-user-dirs-gtk-update を実行 LANG=C xdg-user-dirs-gtk-update
  設定画面が出てくるので、そのままOK
    VMWare toolsをインストール
 VMWareのメニューバーからインストールってやると仮想CDがマウントされるのでデスクトップあたりに展開 展開したディレクトリの中に入ってインストール実行    aptのアップデートとアップグレード sudo apt-get update
sudo apt-get upgrade
  Dropboxクライアントのインストール
 FirefoxでDropbox検索してログイン→クライアントツールをダウンロードしてインストール Dropboxを入れる理由は次のEmacsの設定ファイルをDropboxで共有しているから    Emacsのインストール sudo apt-get install emacs24
 Dropboxにある設定ファイル群(emacs.d)のシンボリックリンクを作成 作成したシンボリックリンクの名前変更 ※ダイレクトに.emacs.dのリンクを作成だとうまく行かなかった ln -s ~/Dropbox/emacs.d ~/emacs.d
mv ~/emacs.d ~/.emacs.d    バージョン管理のインストール sudo apt-get install git
sudo apt-get install mercurial</description>
    </item>
    
    <item>
      <title>PHPのファイルアップロードについて</title>
      <link>https://tech.k-zak.com/posts/setting-php/</link>
      <pubDate>Sun, 07 Sep 2014 17:34:12 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/setting-php/</guid>
      <description>PHPで大きなファイルアップロードを作成する
・Webサーバー側でBody Max Lengthの指定で大きなサイズを指定しておきましょう。
・formのhtmlでenc-typeの指定はもちろん、hiddenでMaxFileSizeの値の指定、その後にinput file
・phpの設定でmax_file_size,post_max_size,タイムアウト、memory_limitなどの設定が必要
・Apacheのバージョンが古いと2だか4GBが上限。という噂。
・サーバーが32bitだとメモリを3.7GB？くらいまでしか扱えないらしいから5GBクラスの巨大ファイルはアップロード無理だと思われる。</description>
    </item>
    
    <item>
      <title>Vagrant、最終的にはEC2にAnsibleでWordPressを構築を試みる2</title>
      <link>https://tech.k-zak.com/posts/challenge-ansible/</link>
      <pubDate>Sun, 07 Sep 2014 17:28:17 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/challenge-ansible/</guid>
      <description>・botoが使えないってエラーになる。
　→次のURLで解決 https://groups.google.com/forum/#!topic/ansible-project/ftlmfIC1DHk
つまり、ansibleがなぜか現在動いているバージョンのライブラリを参照出来ないっぽいのでこれまたなぜか
　hostsにどこのpythonを使っているのか書いてあげる必要があったということ。なぜansible.cfgではないのか
・契約アカウント？で試してたらCredentialエラーが出てて、試しにIAMアカウント作成してそのIAMアカウントを
　使ったら成功した。なんで？
・ApacheのVHOSTのRootディレクトリが700だったので403エラーで表示されなかった。755に変更して解決。
・VirtualHostの設定を行う場合、どこかに「NameVirtualHost」の記述が必要。
　というより、NameVirtualHostの記述内容とその後のVirtualHostディレクティブの内容に整合性がないといけない。
　なので「NameVirtuakHost *:80」の記述があれば、その後&amp;lt;virtualhost *:80&amp;gt;VirtualHostディレクティブが
　ないといけない。
もしも&amp;lt;virtualhost {{hostname}}:80&amp;gt;みたいな記述をしていた場合、NameVirtualHost {{hostname}}:80の宣言もないといけない。
整合性が撮れてないと、宣言が足りないとかそんなVirtualHostディレクティブはないとか警告が出る。
・Ubuntuに入ってるApache2のVirtualHostの有効化無効化
　sites-availableディレクトリにVirtualHost設定書く
　a2ensite {{vhost_filename}} で有効化、a2dissite {{vhost_filename}} で無効化
・Hostの指定が足りない！？
Could not reliably determine the server’s fully qualified domain name, using for ServerName
こんなエラーが出る。hostsファイルに127.0.1.1 にhogehoge.localを追記してあげたら直った
　つまり、hostsファイルにhostnameが127.0.1.1で定義されている場合、Apacheが名前解決のエラー出すので、
　そこに{{hostname}}.localを追記する処理追加
・Ansible用MySQLの設定追加
Ansibleでmysql_userモジュールを使ってユーザーを追加する際に、MySQLが外部サーバーの場合は(Webサーバーから接続用ユーザーの作成の場合は)
host=%,host=localhostの記述が必要、同時に作れるのか試してない。自分は別のtaskとしてそれぞれ実行(同じユーザー名で別hostのユーザーを2回作成)
リモートユーザーにあたる側(今回はWebサーバー側)にはmysql_clientのインストールが必要
・netstat -ant で現在使ってるポートとか観れる
　(適当な解釈、後で意味をちゃんと調べる…かも)
・MySQLが外部からつながらぬ
webとdbをVagrantで分けて作ったら、mysqlコマンドではwebサーバーから接続できるのに、PHPからだと駄目っぽい。
my.cnfの[mysqld]のところに「skip-name-resolve」を追加した。
これは、名前の解決をしないという設定。Vagrantでプライベートネットワークでやっているので、IP直接指定で行っているのでこれでいいや。
・ApacheのRewriteの設定漏れ
UbuntuのApache2.2でRewriteをa2enmodで使えるようにしたはずなのに、動かないな〜って思ってたら、confの設定漏れてた。
　AllowOverride をAllにしなかった。。。</description>
    </item>
    
    <item>
      <title>Vagrant、最終的にはEC2にAnsibleでWordPressを構築を試みる</title>
      <link>https://tech.k-zak.com/posts/challenge-vagrant-ansible/</link>
      <pubDate>Sat, 02 Aug 2014 16:02:30 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/challenge-vagrant-ansible/</guid>
      <description>Ansibleに興味があって試そうとして、対象のサーバーをまずはVagrantを使おう、最終的にはEC2を使う形まで持って行こう。という企画です。アプリとしてはAnsibleのチュートリアルに出てきたのでWordPressを構築するのを試します。
の、前にAWSのS3試したので。
・IAMでアカウント作ってセキュリティポリシーでS3の接続出来るバケット制限したり、操作権限制限したり出来る
・Pythonのbotoを入れて最初S3の操作しようと思ったけど、マルチパートアップロードのやり方が分からなくて挫折
・AWS-CLIが楽ちん、S3に対して勝手にマルチパートアップロードしてくれる。でもWindowsで扱う場合、お決まりの文字コード警告がでますね。
・PHPのSDKでS3に対するファイルのリスト取得、ダウンロード、アップロード(マルチパートアップロード)を作成。思ってたより簡単。
Ansible試す ・Vagrantで作成したboxにAnsibleでSSHに接続する場合、SSHの設定をansible.cfgにpathを書いていない場合、デフォルトの~/.ssh/configを参照してしまう。
・Ansibleはインベントリファイルに書いた名前でSSHする。だからSSHの設定ファイルのHost名は合わせる
・AnsibleのDocument(英語)である程度分かるんですが、ansible-docコマンドで、ある程度何が出来るか雰囲気だけ分かる。
・Ansibleで指定するモジュールはユーザーを作るadd、ファイルを転送するcopy、shellを実行するshell、ファイルを実行？するcommand、aptやyumあたりがよく使うモジュール、設定ファイルで編集が1行で済む場合はlineinfile、結構いろいろある場合は完成版の設定ファイルをcopyするかJinja2で作成したtemplateファイルを使う
・Ansibleのnotifyで呼び出されるのは同じRoleのhandlerに登録されたYamlのnotifyで指定した値と同じnameのものが処理されるようだ
以下WordPressでApacheとMySQLを別サーバーにする場合に忘れず行いましょう的なMySQLに関する事
・AnsibleでlocalhostだけじゃなくてWebサーバー側のIPのも作成しましょう
・Ansibleでmy.cnfでbind_addressでWebサーバーから接続できるようループバックからIPに変更する</description>
    </item>
    
    <item>
      <title>Linux関係のメモ201407</title>
      <link>https://tech.k-zak.com/posts/setting-ubuntu/</link>
      <pubDate>Sat, 02 Aug 2014 15:47:24 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/setting-ubuntu/</guid>
      <description>Ubuntu系でのchkconfigに変わるコマンドってなんだっけ？
-&amp;gt; sysv-rc-confがそれに相当するがデフォルトでは入っていないのでインストールが必要……
checkconfigてLinux全般共通じゃなかったんだ……
・Ubuntu系でインストール済みのパッケージを見るのはdpkg -l(える) この後にgrep付けるヨロシ
・Ubuntuでパッケージの検索はapt-cache search 　apt-get searchじゃなかった……</description>
    </item>
    
    <item>
      <title>PHPあべし！</title>
      <link>https://tech.k-zak.com/posts/spec-php5.5/</link>
      <pubDate>Sat, 02 Aug 2014 15:34:29 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/spec-php5.5/</guid>
      <description>最近PHP触ってて「あべし！」ってなった事。
PHP5.5でempty()の仕様が若干変わっているから注意。他人がPHP5.5で作成したものが自分の開発環境のPHP5.4だとエラーになるから調べてたら。php.netに書いてあった。ついでにPHP5.5で追加された関数とか増えてるの気づいた。
愚痴、FuelPHPのファイルとクラスの命名規則の関係はどうにかならないものか。</description>
    </item>
    
    <item>
      <title>低レベルプログラマだからJavaScriptで知らなかった事</title>
      <link>https://tech.k-zak.com/posts/spec-js/</link>
      <pubDate>Sat, 02 Aug 2014 15:29:50 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/spec-js/</guid>
      <description>JavaScriptで知らないせいでハマったところなどなど
Chromeで確認した時に動いたせいで気付かなかったんだけど、イベントトリガの関数定義で引数にeventオブジェクトを明示して渡さないとIE系では正しく動かない。これはChromeが異常なのかも。
そらそうだという話なんですが、フォームの値は基本テキスト型だからJSで数字として扱って計算したい場合は数字型に変換が必要。そうしないと足し算しようとしたのに文字列連結になってしまう。
JS数字計算で2進数から10進数への変換誤差がでて死ぬる。
100+10.1とかやろうとすると物凄い小さい数字が誤差として丸められず残る。</description>
    </item>
    
    <item>
      <title>最近やったいろいろ</title>
      <link>https://tech.k-zak.com/posts/milestone/</link>
      <pubDate>Sun, 16 Mar 2014 15:12:56 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone/</guid>
      <description>最近やったいろいろな作業。こまかく書くのめんどいから一つにまとめちゃった。
◆PostgreSQLのSQLダンプ
　・sqlダンプコマンドして移行先で復旧コマンドで取り込み。楽ちん！
◆残念VBSバッチスクリプト
　・サーバーのローカルでEscキーを送信するバッチ処理作ったけど、リモート等で開いてないと正常に動作しない
　・windowsのコマンドでディレクトリ削除するコマンド
◆謎！IISの設定
　・IISのRewrite設定
　直接変更すると適用されない場合がある？わかりにくいGUIからRewrite設定
　・DefaultWebSiteは外部からの通信を遮断して、仮想サイトだけが外部からのリクエストを受付け、
　DefaultWebSiteにリダイレクトするやり方がある。
　・IISの接続数制限はユーザー単位ではなく、リクエスト単位なので1ブラウザ6リクエスト位使うため、6の倍数で設定しないと、意図した制御に出来ない
◆Win8.1
　・スタートパネルの左下にひっそりとアプリ一覧に移動するアイコンが。
　・デスクトップやスタートパネルからwin+fで検索してもアプリ出てこない。
　・win8でSQLServer2012のodbc設定がうまくいかない
　解決していない。接続先サーバーが選択できない。何か設定が足りてないのかも
◆PHP
　・古いやり方のPHP(PEAR使ってる)のinclude設定。ホントめんどい。
　・PHPで頼りになるのはやはりPHP.net
　・問い合せフォームやるとバランスよく覚える気がする(Javascript、css、php)。
　確認レイアウトを制御phpが適宜incudeするやり方はスマートかもしれない。
　※セッション制御が楽かも
　・メール送信は確実なのはqdmail＆qdsmtpなんだけど、遅い。
　・メール送信はPHP5.3以降でiconvモジュールが無効になっていないならZendでいいやろ
　※まさかのiconvモジュールが無効になっていると関連ライブラリでエラー出てZendMail使えない
　・php5.4以降はセーフモード使えない
　・システムレベルの操作を行う関数に影響が出るのでcgiで動かしましょう。
　・ファイルのオーナーとかに気をつけましょう
◆Apacheの設定
　・SSLのヴァーチャルホスト設定する時には証明書のパスを書く
　・ReWriteEngineの書き方、.htaccessにリダイレクトの設定書こうとしたけど、うまくいかなくて
　vhost.confの方に書いた
◆SSH
　・SSHで認証鍵ファイルを使う場合の設定方法
　ローカルで認証鍵を作成して、公開鍵をサーバーのSSHログインアカウントの~/.ssh/に放り込む
　・~/.ssh/に設定ファイルを置いておくと楽
◆ポートフォワーディング
　・1つ目のsshがリモートサーバーに対して22ポートで接続するが別のサーバーに任意のポートを転送する設定、
　転送するポートは22じゃなくても良いので、3389転送してRDPとか出来る。</description>
    </item>
    
    <item>
      <title>Win上のpythonでバッチ処理3</title>
      <link>https://tech.k-zak.com/posts/batch-python-03/</link>
      <pubDate>Sun, 16 Mar 2014 14:36:07 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/batch-python-03/</guid>
      <description>windows server2008上のFileMakerServerのバッチ処理を行うにあたり、作業用csvファイルから動的データを
取得し、コマンドを叩く。</description>
    </item>
    
    <item>
      <title>Win上のPythonでバッチ処理2</title>
      <link>https://tech.k-zak.com/posts/batch-python-02/</link>
      <pubDate>Sun, 16 Mar 2014 14:29:40 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/batch-python-02/</guid>
      <description>windows server2008上のFileMakerServerのバッチ処理を行うにあたり、前回使用した作業用の
csvファイルが存在していたら消す処理。</description>
    </item>
    
    <item>
      <title>Windows上でpythonでバッチ処理1</title>
      <link>https://tech.k-zak.com/posts/batch-python-01/</link>
      <pubDate>Sun, 16 Mar 2014 14:23:49 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/batch-python-01/</guid>
      <description>windows server2008上のFileMakerServerのWeb公開エンジンのプロセスを監視して
異常終了していたらプロセスを再起動するバッチプログラムをpythonで書いてみた。</description>
    </item>
    
    <item>
      <title>NginxでPermission denied</title>
      <link>https://tech.k-zak.com/posts/trouble-nginx/</link>
      <pubDate>Thu, 16 Jan 2014 01:44:58 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/trouble-nginx/</guid>
      <description>開発環境
OS:Ubuntu12?
Webサーバー：Nginx
という環境下でWindowsでホストしていたお客さんのサイトを持ってきて改修しようとしたら、
jsやらcssやら画像やらが軒のみPermission denied でエラーでて表示されない。
ググってみたけれども該当するものがない。
※自身のテスト用のものなどはちゃんと画像等問題なく読み込める。オーナーや権限も問題ない
んで、ざっとファイル見ててなんとなく気になって「Thumbs.db」を削除したら表示されるようになった。
Nginxのセキュリティ機能？なのでしょうか。仕組みは調べていない。ちゃんと勉強が必要ですね。
追記：どうも原因は別にあったかも。再現できない。</description>
    </item>
    
    <item>
      <title>2014年の目標達成進捗管理的な</title>
      <link>https://tech.k-zak.com/posts/milestone/</link>
      <pubDate>Sat, 04 Jan 2014 09:23:26 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone/</guid>
      <description>新年、明けましておめでとうございました。良いお年を。 今回は、プログラムの勉強のために作成して使っているVM(Ubuntu)にredmineを動かす。という話。
事の発端は新年に目標を掲げるのは意味がない。なぜならば年が改まるとかそういうタイミングでしか掲げられないような目標は普段から取り組めない達成できない目標だから。
とか、意志薄弱な人間は日が経てば目標自体忘れて結果達成できない。とか、変にハードルの高い目標にしてしまって達成できなくて早々に諦めてしまうとか。
そういう話を聞いたので、ならば達成出来るように達成可能と思えるような目標をredmineでマイルストーンをチケットとして分解して期日を設定して進捗管理するのはどうだろうかと考えた。
要は2014年の目標はredmineで適当な目標の進捗管理を行い、その目標を達成できるよう行動する。のが目標。
という事で設定作業開始
環境:  ホストOS：OS X10.9 ゲストOS(今回使用する環境)：Ubuntu13.10 32bit(ずっと64bitいれたと思っていた(T_T)) nginx1.4.1(以前から使用していて今回はredmine向けに設定を変更します) ruby2.0.0dev(rbenv) unicorn4.7.0 rails3.2.16 redmine2.4.2  rbenvにruby2.0を追加してデフォルトにする rbenvは元から入れていたので、今回は2.0を追加する作業だけ。折角だから最新を使おうってだけ。
参考：rbenvを利用して複数バージョンのRubyをインストール※自分の環境ではrehashのみ、フルパス指定じゃないとエラーになる。なんでだろう。
rehashの時だけsh-rehashがうんたらってエラーになる。
ruby2.0の状態でgem update でアップデートしてbundler入れる。
MySQL側の準備 redmienユーザーの作成と
データベース：redmineの作成
redmine入れる ここから最新のredmineをダウンロード(今回は2.4.2)
うっかり、nginxで設定済みのweb公開領域に入れてしまった。まぁいいか。
DLしたredmineを解凍して任意のパスにredmineという名前にリネームして配置。
redmineディレクトリ直下にGemfile.localを作成し、中に「gem unicorn」と書いておく。
bundleでのインストールが初めてだったので、なんか引数与えてやってみたかったてのと、
最初rmagick関連でエラー出たっぽいのでwithoutに指定した。原因は究明しない！
ここまでで自分が詰まったのは、最初bundler入れた後rehashしてなくてbundle installのとろこで、bundler入ってねぇよ！apt-getで入れろ！ってエラー出てアワアワしてた。どうもbundler入れた後にもrehashが必要らしい。今は何故かは調べない。
必要最小限にしてなかったせいか、ここでワンサカいろいろインストールされた。気がする。
インストールされたgemを見た所、railsは上記環境で記載したバージョンになっていたです。
終わったら、database.ymlのproductionの所を編集して自分の環境でDB接続できるようにする。
開発用じゃなくてredmine使うだけなので最初からproduction。
ここで一旦Webrickで動くか確認。
動かねぇ！調べてたらお決まりの必要な処理がある事を知った。
その１その２書いてあることの真似をする。
終わったら再度チャレンジでWebrickが起動しました。やったね。
redmineのadminユーザーのデフォルトのパスワードがわからない！ 解決策はここ。
unicornの設定 めんどくさくなってきた。上記の２リンクと関連リンクのGithubと、やや簡潔にかいてあるブログを参考に設定ファイルを書いていきましたので詳細は省きます。
１，unicorn.rbを作成。
２，unicornのデーモン
自分が作業した手順としては一気にnginxの設定編集までしてから確認して動かない！ってなったんだけど、問題切り分けのために、
 unicornの設定する前段階でWebrickで動かくか(例えば、http://0.0.0.0:3000) unicornの設定した段階でredmine動くか(例えば、http://0.0.0.0:8080)  て接続確認しながら進めたほうが良いと思われます。
nginxの設定編集 既にnginxが動いている環境のため、redmine専用の設定どうするのか戸惑ったけど、単にserverディレクティブを追加すればいいみたい。upstreamディレクティブも既存の仮想ホスト設定に悪影響は出ていないみたいだ。
最終的な結論から言うと動いたけど、参考にしたブログなんかと設定がちょい違う。
 ローカルで動かしているせいかhostsファイルにredmine用の仮想URLを追記したら動いた。※追記前は参考記事と同じ設定にしても動かなかった。 動かすのに使った指定は  upstreamのunixソケットの指定 追加仮想ホストのlisten port 追加仮想ホストのserver_name 追加仮想ホストのroot 追加仮想ホストのaccess_log 追加仮想ホストのerror_log 追加仮想ホストのlocation / にファイルじゃなかったらproxy_passの分岐 上記if文が真の時のproxy_passの指定を「http://」+「upstreamに記述した名前」    proxy_pass以外のproxyの設定は一つも書いてないけど動きます。なんでだろう。</description>
    </item>
    
    <item>
      <title>JavaScriptで7の倍数と7のつく数字の時だけtrue</title>
      <link>https://tech.k-zak.com/posts/x7-true-js/</link>
      <pubDate>Sun, 22 Dec 2013 19:18:49 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/x7-true-js/</guid>
      <description>Javascriptてこんな書き方できるのか
◆7の倍数か7の付く数字の場合のみtrueを返す。
7の剰余が0ではない、もしくは７が含まれる数字が真なら論理値(true)、そうでなければ数値(i)
最初はおぉ？って思ったけれど、こうしてみるとさして不思議でもないか。</description>
    </item>
    
    <item>
      <title>fizzbuzz</title>
      <link>https://tech.k-zak.com/posts/fizzbuzz-js/</link>
      <pubDate>Sun, 22 Dec 2013 18:44:51 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/fizzbuzz-js/</guid>
      <description>Javascriptでfizzbuzz
◆シンプルなやつ
=を使わないなら論理値を整数に戻すみたいな面倒なことやる。剰余を用いないならいろいろごちゃごちゃやる。
とりあえず可読性とシンプルさから考えるとこんな書き方になるのかな。</description>
    </item>
    
    <item>
      <title>パスカルのなんとか</title>
      <link>https://tech.k-zak.com/posts/pascal-logic/</link>
      <pubDate>Sun, 22 Dec 2013 18:32:30 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/pascal-logic/</guid>
      <description>今回は、パスカルの三角定理？みたいなやつ
PHPでは、
Perlでは、
Pythonでは、
Rubyでは、
Rubyはもっとシンプルな書き方があるのかもしれない。</description>
    </item>
    
    <item>
      <title>平方根ろじく</title>
      <link>https://tech.k-zak.com/posts/square-root/</link>
      <pubDate>Sun, 08 Dec 2013 15:52:17 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/square-root/</guid>
      <description>平方根で最も少ない桁数で0から9までの数字が揃うのは何？
Pythonでチャレンジ
今回はPython以外で考える気が起きない。</description>
    </item>
    
    <item>
      <title>コーディングリハビリ06</title>
      <link>https://tech.k-zak.com/posts/coding-memo05/</link>
      <pubDate>Sun, 08 Dec 2013 15:43:32 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/coding-memo05/</guid>
      <description>リハビリその3
今回は、バブルソート
PHPでは、
Perlでは、
Pythonでは、
Rubyでは、
習熟度が低いのでPerlとPHPが同じ内容になる。
pythonが好みだけど毎回２つリストを生成してmapしてるのでコスト高そう。
すんなり1つのリストだけでできないものか……</description>
    </item>
    
    <item>
      <title>コーディングリハビリ05</title>
      <link>https://tech.k-zak.com/posts/coding-memo05/</link>
      <pubDate>Sun, 08 Dec 2013 11:47:50 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/coding-memo05/</guid>
      <description>昨日の文字チェックをPHP以外で試す。
与えられた文字列が全てユニークな文字で構成されているかのチェック。
PHPは前回やっているので、今回は掲載無し。
Perlでは、
Pythonでは、
Rubyでは、
文字列のまま操作するなら指定の文字が同じ位置にあるのか先頭から検索と最後尾から検索でインデックスが同じか調べる。
配列で操作するなら、重複不可の配列を作って要素数が変わってないか調べる。
pythonが一番スッキリしているようだけど、やっぱりRubyかな</description>
    </item>
    
    <item>
      <title>コーディングリハビリ04</title>
      <link>https://tech.k-zak.com/posts/coding-memo04/</link>
      <pubDate>Fri, 06 Dec 2013 16:06:49 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/coding-memo04/</guid>
      <description>今回は与えられた文字列が全てユニークな文字の構成かどうか調べる。
そういう問題を出されてスマートに答えられなかったので、調べた。
1,回答した内容を修正したもの
2,PHPのリファレンス見てて思いついた方法
3,文字列のままチェック
4,PHPの関数とか出てこなくて回答できなかった、頭の中にあったロジックを具現化したもの
　配列に変換してshiftしながらチェックする方法
どうも実行してみると2や3が早いようだ。1文字でもユニークでなければFalseにする3が内容によっては最速
やはり何回も配列を操作するとコストが高くなりますね。模範解答が欲しい。</description>
    </item>
    
    <item>
      <title>コーディングリハビリ03</title>
      <link>https://tech.k-zak.com/posts/coding-memo03/</link>
      <pubDate>Fri, 06 Dec 2013 15:56:43 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/coding-memo03/</guid>
      <description>リハビリその3
今回は、バブルソート
PHPでは、
Perlでは、
Pythonでは、
Rubyでは、
Rubyが一番スマートかな</description>
    </item>
    
    <item>
      <title>コーディングリハビリ02</title>
      <link>https://tech.k-zak.com/posts/coding-memo02/</link>
      <pubDate>Fri, 06 Dec 2013 15:27:55 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/coding-memo02/</guid>
      <description>リハビリその２
今回は、ファイル読み込みとその時の簡単な例外処理
読み込むテキストファイルの内容は以下の通り、
PHPでは、
Perlでは、
Pythonでは、
Rubyでは、
うるう年の判定処理は適当。pythonが一番しっくりくるかな。
rubyはreturnを省略した場合に最後に評価された値がreturnされるんだけど、pythonもだと勘違いしててハマった。</description>
    </item>
    
    <item>
      <title>コーディングリハビリ01</title>
      <link>https://tech.k-zak.com/posts/coding-memo01/</link>
      <pubDate>Fri, 06 Dec 2013 14:34:06 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/coding-memo01/</guid>
      <description>一定時間未満の習得状態だと、日々使ってないとすぐ書けなくなりますね。プログラミング言語というのは。
paizaなんかの超初級問題も関数のリファレンスとか見ながらじゃないと全く解けない。
という事でリハビリ。
今回は標準入力。
PHPでは、
Perlでは、
Pythonでは、
Rubyでは、
標準入力が「gets」だけで取れるRubyはダンディ。</description>
    </item>
    
    <item>
      <title>Laravel4触り始めました</title>
      <link>https://tech.k-zak.com/posts/study-larabel4/</link>
      <pubDate>Fri, 06 Dec 2013 14:07:20 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/study-larabel4/</guid>
      <description>Laravel4がこれから流行るかなーって思ってちょっとチュートリアル(クイックスタート)なんかを触り始めました。
テンプレートエンジン用ファイル上でのコメントアウトの書き方を理解していなくて、変数見つからないエラーとか出しまくってた。
{{– コメントアウトしたいコード –}}って書かないといけない。ていうか、そもそもの外で変な書き方してたのが悪い。
あと、migrationの使い方全然理解していないのでそこで詰まった。
検索フォームの値を受け取ってモデルに検索処理投げてレコードオブジェクト(モデルイングタンス？)受け取る処理はコントローラーに書くの？それともViewファイル？
わかりません。。。</description>
    </item>
    
    <item>
      <title>FuelPHPで文字化けーアップロードファイル名とメール添付ファイル名</title>
      <link>https://tech.k-zak.com/posts/trouble-charset/</link>
      <pubDate>Wed, 13 Nov 2013 15:27:30 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/trouble-charset/</guid>
      <description>FuelPHPをUbuntu上で作成してWindows環境(Win2003、IIS6)に納品した結果、
Windowsのクライアントからファイルアップロードするとアップロードされたファイル名が文字化けしている！ (PHPの内部エンコードがUTF-8だけどWinがShift-JISだから)
→アップロードは送信メールに添付したいがためにしているだけなので文字化け解消しなくても良かったのですが、後でアップロードフォルダ内の整理や確認等人力で行う場合に視認性が悪いので無理やり対応。
FuelPHPのUpload::save()を行う前に
ってやってアップロードファイル名をエンコードする。
弊害としては本来は内部エンコードのまま処理が進むはずだったので、同名ファイルが有る場合に枝番を付加する処理なんかが正常に動作しなくなる。
これでWindowsサーバーのフォルダに読める文字のファイル名でアップロードされる。
最初エンコードをSJISにしてたけど、CP932にしたら、①みたいなMS拡張の機種依存文字も大丈夫になった。
本当はもっとスマートな方法が欲しかったんだけど、ファイルを置くところの処理がCoreファイルで作られていて入り込む余地が無いように思えた。それとも とかやったら良かったのかな？
文字化け状態でアップロードされたファイルをメールの添付に加えると添付ファイル名も文字化け！ (ま、そりゃそうですね)
→上記１の結果を受けてメール送信のメソッドに引数として添付ファイル名を渡す。その処理は何も加工しない。
メール送信用のメソッドの中で、引数で受け取った添付ファイル名をFuelPHPのmailに渡す処理を加工
それでも、メールヘッダがISO-2022-JPなので、機種依存文字の類はメールを受信した時に「?」とかになってるけど、それはしょうがないよね。
メールの件名が文字化けすることがある！ →犯人は半角カナ。使わないで！件名はFuelPHP側で送信時にISO-2022-JPに変換してるっぽいので、mb_convert_kana関数使って件名に含まれている半角カナを全角に変換して誤魔化す。
以上、うんこメモでした。</description>
    </item>
    
    <item>
      <title>sshで、ぷごふぁ</title>
      <link>https://tech.k-zak.com/posts/ssh/</link>
      <pubDate>Wed, 02 Oct 2013 17:10:04 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/ssh/</guid>
      <description>WordPress勉強してます。テーマについてはだいたい分かったので、自作テーマとか作っていきたい。
ゆくゆくは案件事例的なぽーとふぉりおサイトを作ろうと、とりあえずさくらVPSを立てて、SSHの
設定をする。
 契約だけしてながらく放置していたので、OS再インストールしてSSHで接続しようとしたらエラー出て
ぷごふぁ！ってなった。調べたら出てきました。
参照： http://qiita.com/wnoguchi/items/690f3f4651f8f11e4ed3
要は以前に接続した際のゴミが残っていて再インストールしたのでIPとポート同じなのに鍵あわないじゃん！
て言うことでした。やっぱりデータを消せばいいだけだったんだ。初期化するコマンドとかないんかな？
Qiitaは素人同然の自分には本当に助かる。</description>
    </item>
    
    <item>
      <title>印刷用CSSでハマった</title>
      <link>https://tech.k-zak.com/posts/trouble-css/</link>
      <pubDate>Wed, 02 Oct 2013 16:53:01 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/trouble-css/</guid>
      <description>この間、印刷用CSSを回収していて「そんなん知らねーよ！」ってなった事。
問題のCSS: page-break-before
いやコレでね強制改ページできるんで特定のdivタグのところで改ページさせようと
していたんだけど、ChromeではなるのにIE(対応対象はVer 9)だと改ページしてくれない。
IEでも解釈されるはずなのになんで？ってなって諦めてたんだけど、調べてたら出てきた。
IEの場合はpage-break-beforeが適用される要素がページをまたぐような位置にいる場合は
無視されるそうです。で、ちゃんとは調べてないのですがpage-break-beforeの場合はその
要素がpage-break-afterの場合は次の要素が判定基準になるっぽぽぽぽいです。
対処方法としては改ページしたい場所にからのdivを入れてその要素に対して改ページ指定の
cssを適用させるって方法。Web素人には分からんよ。Web上でCSSリファレンスをさっと見ても
そのことについての記述なかったし。んもう！</description>
    </item>
    
    <item>
      <title>fuelphp使って分からなかったこと</title>
      <link>https://tech.k-zak.com/posts/challenge-fuelphp/</link>
      <pubDate>Sun, 25 Aug 2013 12:51:13 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/challenge-fuelphp/</guid>
      <description>fuelphp使うって言ってもmodelにmysql使ったりしてないんでイレギュラーな
感じなんですけど。
以下に分からなかったことなど
１，modelの検索メソッドがクラスメソッド
検索条件を検索メソッドに渡してレコードオブジェクトを受け取るんだから別に
インスタンスメソッドである必要はないんだけど、じゃぁ返ってきたモノは
ただの連想配列なのかモデルオブジェクトの塊なのか…
昔、Javaを少し自習した時にレコードオブジェクトのクラスとオブジェクトの塊を保持する
クラスが別になる書き方があって、自分にはその方がしっくり来るんだけど、多分塊を保持
するクラスが余計っていう考えなのだろうか。
何にしっくりこないかというと、モデルクラスの1インスタンスが1レコードオブジェクトなのか
その塊(1個以上)が1インスタンスなのかという事。
Model_Crudのメソッド見てるとhas_next()とかあるから、1個以上のレコードオブジェクトを
保持するイテレータオブジェクトが1インスタンスなのかなーって思う。でもそうすると、fuelphp
においては1レコードオブジェクトってのは1モデルインスタンスが保持するただの連想配列なのか
な？
このあたりは、PHPの他のフレームワーク勉強したり他の言語のフレームワーク勉強していくしか
ないかな。
２，FieldSetクラスという便利なものの中のcheckboxの名前の付け方
これは多分自分の学習が足りないだけなんだと思うけど、PHPでinputフォームのチェックボックス
を複数用意する時、name属性をname=”◯◯[]”とかにして受け取ったPHPで値を配列で扱うんだけ
ど、fuelphpのFieldSetクラスから生成したcheckboxがname属性をname=”◯◯[i]”って[]の中
に数字を入れてくるんです。受け取るPHP側では配列として受け取れるぽいんだけど、fuelphpの
Validationでこのチェックボックスグループらのどれか1つにはチェックしていること！みたいな
事が出来ない。あと、jQueryのvalidationプラグインが動かない。別のものとして扱ってしまう。
core/classes/foeldset/の中にあるファイルのcheckboxのフォームの名前属性を作る部分を直接
書き換えて(本当はappフォルダにコピーするべき)使っている。
３，FieldSetオブジェクトのフォームオブジェクトのラベル出力の時に出力されるラベル要素に
クラス(htmlのclass)を追加する手段が分からない。
こいつ、checkboxやradioのグループ出力する場合はタグ出力しないんだぜ。意味不明。親要素のclassに装飾の指定しても無視されたりするし、ホンマむかちく(ただの勉強不足)。やりたかったのは、必須入力のフォーム要素にはラベル名称を赤字にしたかったんだけど、css適用
されなくて、仕方なく、requiredの場合出力されるデフォルト「*」のやつを「(必須)」てかえて
それを赤字にした(requiredの時に出力される奴はlabel要素外)。
４，単にどこに何を書くかがまだ理解できていない。
controllerのactionメソッド内にloginチェックの詳細処理を書いてるんだけど、そこは外に
切り出すべきなんじゃないの？とかactionメソッド内でのみ使う提携処理＆ちょっと複雑みたいな
のは外に切り出すべきなんだろうけど、それは別のcomponentクラスとかにクラスメソッドとして
出すべきなのか、同じcontrollクラスのprivateメソッドとして切り出すべきなのか。今は別の
クラスでも使う汎用的なものはcomponentクラスに、特定のactionメソッドからのみ呼び出すよう
なものは同じクラス内のprivateメソッドにしてる。actionメソッド内の記述がシンプルになれば
privateメソッド増産してcontrollerクラス内の行数は多くても良いのか、別クラスにどんどん
出していくべきなのか。でも、publicにしたくないメソッドとかあるんですよ。
あとはやっぱりmodelとViewModelとView。検索して取り出したレコードオブジェクトを展開する
のはViewModelなのかViewでやるのか、Pagenationは？formオブジェクトにデータぶっこむのは？
とか分からんですし、ViewModelとViewの連携のさせ方とかまだ理解できていない。
５，やっぱりPHPのクロージャの使い所が分からない
JavaScriptは分かるんですよ。callbackとかその時だけの処理をそこに直接書くとか、function
定義しちゃうとグローバル領域にはいっちゃうから変数の中にいれといて、特定の処理の時に呼び出す
とかね。
でもPHPてクラスメソッドとかインスタンスメソッドとか定義してるわけじゃないですか、だから
JavaScriptと同じ用途ってない気がして…ちょっとだけViewファイルの中で書いたりもしたけれど、
Helper作る程でもない処理専用って事？後は再帰定義のcallbaclくらい？よく分からんです。</description>
    </item>
    
    <item>
      <title>jQueryでまた使い方忘れて調べそうなやつらメモ</title>
      <link>https://tech.k-zak.com/posts/jquery-memo/</link>
      <pubDate>Sun, 25 Aug 2013 04:50:50 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/jquery-memo/</guid>
      <description>gistベタ貼りじゃ！</description>
    </item>
    
    <item>
      <title>jQueryで要素の高さを変える</title>
      <link>https://tech.k-zak.com/posts/jquery-toggle/</link>
      <pubDate>Sun, 25 Aug 2013 04:47:47 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/jquery-toggle/</guid>
      <description>まぁ、アレですよ。よかれと思って表示非表示をトグルする要素作ったら、
非表示にした分、開いたスペースだけ下にあるリスト(table)要素の高さ広げてよ
っていうオマケに品質求めちゃう的な要望があったわけですよ。
jQueryのtoggle()が勝手にon-offやってくれるのはいいんだけど、今要素をたたんでいるのか
広げてるのか分からないのでis(“:hidden”)なんてのを使って調べるわけですね。
だったらshow()とhide()使っても良くね？的な。</description>
    </item>
    
    <item>
      <title>css 印刷のために</title>
      <link>https://tech.k-zak.com/posts/print-css/</link>
      <pubDate>Sun, 25 Aug 2013 04:39:26 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/print-css/</guid>
      <description>なんとかPHP側でPDF作成とかじゃなくてhtml＆cssで楽したい。
そんな時のcss設定とか。
まず、対象レイアウトに印刷用css作っていきます。
cssの中で@media print とかやっておくと、印刷の時だけ適用されるので、css作ってる間は
その指定外しておいたほうが楽ね。
出来上がったら、htmlのheadでそのcssをmedia=”print”の指定付きで読み込む。
後はhtml内に印刷ボタン配置して印刷ボタン押したらbody要素のクラスに”print”を付与
javascriptで印刷→setTimeoutなんかで１秒後にbodyに付与したprintクラスを今度は
消してやれば、元通り！って寸法です。
ページ番号とかリンク？とか印刷日付とかはブラウザの仕様らしいので我慢。
それが嫌ならPDFで一から作ってください。難易度の落差が凄いな。</description>
    </item>
    
    <item>
      <title>cssメモ ちょっとしたもの</title>
      <link>https://tech.k-zak.com/posts/css/</link>
      <pubDate>Sun, 25 Aug 2013 04:21:32 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/css/</guid>
      <description>cssでwindowサイズに応じてbodyのcss定義を変える。
まぁ、bootstrapで使っている上に固定のメニューリストみたいなのある時に
windowの横幅めっちゃ狭めるとアレですやん。その辺の細工。
共通の見た目にしたい用クラス作っとくと便利。というかそれが本来の使い方。
例えば初期状態は非表示にしたい要素用クラスとそのcss定義とかね。</description>
    </item>
    
    <item>
      <title>cssメモ 配下の指定</title>
      <link>https://tech.k-zak.com/posts/css-tech/</link>
      <pubDate>Sun, 25 Aug 2013 04:11:02 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/css-tech/</guid>
      <description>cssで配下の指定勘違いしておかしな事やってたのでメモ
結論としては、きちんと継承させたい(関連を持たせたい)事が分かるように書かないと駄目。
最初
１，scrollさせたいdivの定義
２，position:absoluteを使ってtableのheaderを上に固定させつつbodyだけスクールするよう
定義
この時、１で基準となるdivとその配下のdiv(scrollの指定したdev)の定義をしていて
tableヘッダはscrollの定義をしたdivの子要素だからってそういう書き方してたら、
tableヘッダ要素が意図する位置に固定されたような感じになるんだけど目には見えない
状態になった。レイヤーの上下関係とかかな？とか思っていじくり回してたけど、違った。
tableヘッダ要素は基準になるdiv配下のtheadみたいな描き方しないと駄目でした。
div#base{
posision: relative;
}
div#scroll{
スクロールの設定(html上ではdiv#baseの子要素)
}
てやっている状態の時に
ｘ div#scroll table thead ・・・これだとscroll定義されたdivの影響下(間違って無くね？)
◯ div#base table thead ・・・これだと基準divの位置を基準にして正しく表示される。
div#scrollは#baseの子要素なんだから問題無いだろうと思ってて、開発者ツールとかで確認すると
意図する位置にいるのに表示されない状態。cssからすると、htmlどう書かれているか知ったこっちゃない
ってことなんだろうね。css上でキチンとどこの配下の何の要素か書いてあげないといけんというこってす。
そうそう、tableのheaderとbodyを分けるとheaderとbodyでtdの幅が合わなくなる事がある(内容次第)ので
javascriptで無理やりbody側のtdの幅にheaderのthの幅をあわせるって事も必要です。固定幅じゃない場合。
最終的な見本を下に(htmlはめんどうなので載せてません)</description>
    </item>
    
    <item>
      <title>なんとか再開したい</title>
      <link>https://tech.k-zak.com/posts/milestone/</link>
      <pubDate>Sat, 24 Aug 2013 16:16:57 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone/</guid>
      <description>memo的な感じで再開したい。
でもその前にWordPressの勉強をしなおして、改良してから再開したい。
当面はメモはEvernoteにとどめておくしか無いかな。</description>
    </item>
    
    <item>
      <title>Perlの動作環境？について</title>
      <link>https://tech.k-zak.com/posts/study-perl/</link>
      <pubDate>Sun, 20 Jan 2013 15:25:11 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/study-perl/</guid>
      <description>長らく更新してませんでしたが、その間にFlask試したり、最近なんかは
ちょっとだけVisual C++を初心者本見ながら動かしてました。
C++分かんない。
さて、PerlをVPS上で動かす＆Mojolicious::Liteで作成中の簡単なFAQアプリの為、Perlを
どうやって動かすのか、簡単に試したのでまとめてみた。(まとまってないし解説にもなってない)
perlを使えるように設定する
１，Perlを入れましょう。既に入っている場合はバージョンを確認してできるだけ偶数ナンバーの最新版を入れましょう
※奇数番号のバージョンは実験要素が強いと聞いたことがありますのでperl-14.xが良いかと
※perl -v でバージョンの確認ができます。
２，Perlbrewを入れましょうバージョンを切り替えたりライブラリを追加したりが楽になるそうです。
３，ターミナルベースで動かす
ファイルの拡張子を「.pl」とかにして内容はprint “Hello,World\n”;とか書いて
ターミナルで「perl aaa.pl」とかやると起動して処理実行しますね。
厳密にはファイルエンコードはUTF-8にしましょうとか、ソースの行頭にお決まりの書き方をするとかありますけど
その内容については省略するので他で調べてください。
４，ApacheにCGIの設定して動かす
特になんの設定もせずPerlファイルをWeb公開領域に置いてもソースをそのまま画面に出力したり、
エラーになったりします。
・ApacheにCGIの設定を書いていない
・作成したPerlファイルに実行権限がついていない
などが主な理由です。権限についてはchmodコマンドで実行権限を付与してください。
Apacheの設定ファイル「httpd.conf」もしくはVirtual-Hostの設定をしているなら「httpd-vhost.conf」を
開いて設定を記述します。
———-
&amp;lt;Directory “/virtualhostdirectory/hoge”&amp;gt;
AddHandler cgi-script .cgi .pl .py .rb
Options All
AllowOverride All
Order allow,deny
Allow from all
———-
こんな感じで。「AddHandler cgi-script」に対象拡張子を連ねる感じで記述すると動くようになります。
※当然LoadModuleのところでmod_cgiを読み込んでいるのが前提です。
※上の例では、Perl以外にもRubyやPythonもCGiで動く設定にしてますのん。
５，Apacheにmod_perlの設定をして動かす
まず自分の使っているApacheの拡張モジュール置き場にmod_perl.soがいる確認。自分の場合はMBP 10.8の
組込み?のApacheを使っているので/usr/libexec/apache2/mod_perl.soを確認。いた!
所定の場所にファイルがない人は別途調べてファイルを入手なりコンパイルなりしてください。
※ URL:http://perl.apache.org/download/index.html
・httpd.confのLoadModuleが沢山記述されているあたりの最後尾に「LoadModule perl_module /usr/libexec/apache2/mod_perl.so」
を追記
・適当なとこに下記の記述※自分の場合は上記のvirtualhostディレクトリ内に追記
・上記の設定で既に普通のCGIでPerlが動くようになってしまっているのでPerl関係拡張子を除外しておくこと!
———-
&amp;lt;FilesMatch “.(pl|cgi)$”&amp;gt;
SetHandler perl-script
PerlHandler ModPerl::Registry</description>
    </item>
    
    <item>
      <title>フレームワークちょいちょい</title>
      <link>https://tech.k-zak.com/posts/scriptlanguage-frameworks/</link>
      <pubDate>Sun, 21 Oct 2012 14:00:56 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/scriptlanguage-frameworks/</guid>
      <description>ここ最近はフレームワークを少し触ってる。
Perl：Mojolicious::Lite
→DBをFileMakerで簡単な検索をするものを作成。Liteの場合は？APPPATH/templates直下に
各ビューテンプレートファイルを置く。ベースとするレイアウトはAPPPATH/templates/
layouts直下にdefault.html.epて名前で配置する。静的ファイルはAPPPATH/public配下に配置する。
このあたりの説明でドンピシャ説明しているのが見つからなくて、なかなかつまづいた。
 Ruby：Sinatra
→Hamlの書き方とか忘れてて大苦戦。あとなんかサーバー再起動しないと変更が摘要されない感じとか
ちょっと苦労。Mojolicious::Liteでやったのと同じ事をSinatraでも実践。という訳でDBはFileMaker。
これは前に一度やっているのでコードをちょっと変える程度だったのにとにかく上記の不可思議で苦戦。
 PHP：FuelPHP
→最初はSilexで挑戦してたんだけど、意味不明過ぎて挫折。そんでシンプルそうなFuelに手を出す。
これもDBをFileMakerで簡単な一覧表示検索という上の２つと同じ事をやるものを作成。たいぽや
コンテキストでちょいちょい間違えて詰まったけど、割と簡単だった。FuelPHPの時は静的ファイルは
public/assetsて階層に配置するんですね。
 PythonのFlaskに手を出す予定だったのに時間が足りなかったから来週はFlaskかな。
OS再インストールしたせいだと思うけど、前に作ったDjangoが動かなくなってた。モジュールがインポート
出来ないとかで……</description>
    </item>
    
    <item>
      <title>Perl勉強してるメモ１</title>
      <link>https://tech.k-zak.com/posts/study-perl/</link>
      <pubDate>Tue, 09 Oct 2012 05:02:19 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/study-perl/</guid>
      <description>何故か最近Perlの勉強を始めた。
気になった箇所のまとめ、
■変数と型
・普通(単一)のデータはスカラー変数で扱う：$val = ‘Hello’;
・配列は「$」の代わりに「＠」でも中の要素を扱う時は「$」でインデックスの指定は[]
：@array = (1,2,3,4,5); print $array[0] # 1
・ハッシュは「$」の代わりに「%」でも中の要素を扱う時は「$」で指定は{}
：%hash = (‘a’=&amp;gt;’1′,’b’=&amp;gt;’2’); print $hash{a} # 1
■変数スコープ
・{}ブロックでスコープは仕切られている。そのため変数はmyを使ってスコープを意識した変数宣言を
すると良いとされている。
・ファイルスコープは実は１ファイル１パッケージ的な扱いでパッケージスコープ。
・例えばファイル直下の位置で$cgi = CGI-&amp;gt;new; とかやっておけば、subを呼ぶ時に毎回$cgiを
引数として渡す必要はない。
参考 Gist：https://gist.github.com/3855891
 ■リファレンス
・C言語で言うところのポインタ？配列やハッシュをサブルーチンに渡す際に変数のリファレンスを
渡す。そうしないと呼び出し先では１つの引数データに連結されてしまっているのでうまく復元できない。
・リファレンスで渡された値をsubスコープ内の新たな変数に入れてデリファレンスして編集すると、
元の変数の値が変わっている。デリファレンスした値を新たな変数に入れて編集した場合は影響しない。
参考Gist：https://gist.github.com/3850245
https://gist.github.com/3856617
 ■ファイルの扱いなど
・use IO=&amp;gt;’utf8′; としておくとUTF-8でファイルIOで扱う。
・ファイルハンドルはレキシカルスコープ変数を使うようにしましょう。
・またopen関数は3引数の形で使いましょう。
open(my $fh,&#39;&amp;lt;‘,$file_path);
 ■モジュールについて
・use strict;と use warnings; はワンライナー(or実験)以外では必ずつけましょう。
・use feature ‘say’;とするとsay関数が使える。これはprint関数+改行らしい。便利。
・自作外部ファイル、PHPでいうところのrequire用ファイルのようなファイルは拡張子を
「.pm」にする。
 ■他
・qq や qw は便利なので積極的に使って行きましょう。
例：qq({name}”/&amp;gt;);
て感じで使える。</description>
    </item>
    
    <item>
      <title>現状整理</title>
      <link>https://tech.k-zak.com/posts/milestone/</link>
      <pubDate>Sun, 30 Sep 2012 12:19:52 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone/</guid>
      <description>現状の整理。ちっとも進まない。。
開発環境：
・開発環境のOSはOSX 10.8にアップグレード
・WebサーバーはローカルのApache、エディタは主にEmacs
 各言語の勉強進捗：
・Java・・・お休み中。来年にはAndroidさわさわする一環で復帰したい。
・Grovy・・・お休み中。たまにメンテナンスで仕事で既存のもののデバッグ用途に使用する程度。
・Scala・・・未着手。
・Clojure・・・未着手。
・Haskell・・・未着手。有名な本は買ったけれど、まともに読んでいない。
・PHP・・・唯一仕事で使えるレベル。最近は全くふれず、CakePHPやFuelPHPにそろそろ触れねば…
・Ruby・・・Railsの進化が早すぎるので、もう少し他の言語の習得が進んで余裕が出るまでは手を出さない。
・Python・・・去年そこそこ触ったきり。まだ仕事で使えるレベルに達していないのに中断中…
・Perl・・・なぜか最近はPerlを勉強中。基本文法は理解したが…
・ActionScript・・・簡単なものは分かるとして、使用用途が特殊なのでなかなか…
・JavaScript・・・一番習得が進んでいると思うが、スマフォ向けや派生言語の習得まで考えると…
・VB・・・簡単なデスクトップアプリなら…
・C#・・・来年には着手したい
・C++・・・いいかげん、そろそろ勉強しないとな〜
・Objective-C・・・本はいろいろ買い揃えたけれど…
あぁ、自分の心の弱さに嫌になりますね。</description>
    </item>
    
    <item>
      <title>趣旨変え</title>
      <link>https://tech.k-zak.com/posts/milestone/</link>
      <pubDate>Sun, 20 May 2012 09:38:56 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone/</guid>
      <description>ここのブログの内容の趣旨を変えました。
元々のネタはBlogger？Googleのところに移動。
ここは元々MTで少しやってた勉強メモに変更。それに伴いMTでからデータも適当に移行。</description>
    </item>
    
    <item>
      <title>FileMakerとRubyのSinatra</title>
      <link>https://tech.k-zak.com/posts/study-sinatra/</link>
      <pubDate>Sat, 07 Jan 2012 10:50:19 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/study-sinatra/</guid>
      <description>Sinatraのチュートリアルを少し触って、これなら簡単にFileMakerと接続出来るんじゃない？
と思ったのでやってみました。
gihyo.jp:第９回 SinatraとSequel・Hamlで掲示板アプリを作る
http://gihyo.jp/dev/serial/01/ruby/0009
が自分がチュートリアル(以下、見本)としてやってみみたもので、これのmodel部分をFileMakerに
置換えました。
※FileMakerやRuby、Sinatraそのものの細かい説明は省きます。
最終的な階層は以下(見本のファイルも混在してます)
—
—
FileMaker部分
・bbsテーブルの作成、カラムは見本のapp/model/comment.rb内で定義しているクラス
Commentsを真似て定義。但し、posted_dateはFileMaker側ではtimestamp型で作成時に自動で
現在のタイムスタンプが入るよう設定。
Ruby部分
・app/model/comment.rbにFileMakerとの接続クラス追加
—以下をcomment.rbに追加—
・hamlを編集(追加)
—app/view/fmbbs.haml
※HamlはPythonのようにインデントが文法になってるので注意！
・app/start.rbを編集
—app/start.rbを以下のように変更—
・rfm(lardawge-rfm)をインストールするの忘れずに！
$ sudo gem install lardawge-rfm
GitHub：https://github.com/lardawge/rfm
これでstart.rbのある位置をカレントにして
$ ruby -rubygems start.rb
これで
http://localhost:4567/fmbbs
で試せます。簡単ですね！
今回、自分がつまずいた所は、
１，rfm経由でFileMakerにレコード作成(多分編集も同じ)でtimestamp型のカラムに値を
設定するための方法が分からなかった。※DateTime型だとエラーになる、整形してもエラー
になる。なんでや！
→読み込みは出来るので、FileMaker側で作成時自動で値設定にした。
２，投稿済みデータの降順ソートがうまくいかない！
→lardawge-rfmでは降順の指定が”desc”ではなく、”descend”だった。
Railsでやるほどじゃないけどちょっと簡単にFileMakerとWebアプリつなぎたいとか、これで
どうでしょうか？</description>
    </item>
    
    <item>
      <title>シンポナシウム</title>
      <link>https://tech.k-zak.com/posts/milestone/</link>
      <pubDate>Sat, 05 Nov 2011 03:34:57 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone/</guid>
      <description>前回の更新からはや4ヶ月超。どのような進歩があったと言うと…</description>
    </item>
    
    <item>
      <title>apacheでredmine virtualhost設定</title>
      <link>https://tech.k-zak.com/posts/apache-virtualhost/</link>
      <pubDate>Sat, 25 Jun 2011 16:03:16 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/apache-virtualhost/</guid>
      <description>この間、MyMBPが死にました。。。アセロラドリンクをがぶ飲みして死にました。。。</description>
    </item>
    
    <item>
      <title>CakePHPでぐはぁ</title>
      <link>https://tech.k-zak.com/posts/study-cakephp/</link>
      <pubDate>Tue, 14 Jun 2011 13:00:58 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/study-cakephp/</guid>
      <description>CakePHP1.3をちょいと触ろうとしたら、エラーがたくさん出てビビったｗ</description>
    </item>
    
    <item>
      <title>WebフレームワークとFileMaker</title>
      <link>https://tech.k-zak.com/posts/web-filemaker/</link>
      <pubDate>Sun, 29 May 2011 04:16:39 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/web-filemaker/</guid>
      <description>FileMaker用のブログに書こうかと思ったけどこちらに書く</description>
    </item>
    
    <item>
      <title>emacs初めてみようか</title>
      <link>https://tech.k-zak.com/posts/emacs-setting/</link>
      <pubDate>Fri, 29 Apr 2011 17:47:06 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/emacs-setting/</guid>
      <description>現在使っているEclipse、試しに入れてみたNetBeans、ちょっとした編集等に使っている</description>
    </item>
    
    <item>
      <title>PHPのフレームワーク試す</title>
      <link>https://tech.k-zak.com/posts/php-frameworks/</link>
      <pubDate>Sun, 24 Apr 2011 14:04:24 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/php-frameworks/</guid>
      <description>PHPのフレームワークをいくつか試してみた。</description>
    </item>
    
    <item>
      <title>Django お勉強 Part3</title>
      <link>https://tech.k-zak.com/posts/django-tutorial/</link>
      <pubDate>Thu, 21 Apr 2011 08:43:01 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/django-tutorial/</guid>
      <description>参考：http://ntm.ex-blog.net/archives/91</description>
    </item>
    
    <item>
      <title>Django お勉強 Part2</title>
      <link>https://tech.k-zak.com/posts/django-tutorial/</link>
      <pubDate>Wed, 20 Apr 2011 11:20:34 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/django-tutorial/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Django お勉強</title>
      <link>https://tech.k-zak.com/posts/django-tutorial/</link>
      <pubDate>Tue, 19 Apr 2011 05:10:17 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/django-tutorial/</guid>
      <description>PythonのDjangoのお勉強記録</description>
    </item>
    
    <item>
      <title>JavaのDWRって何さ　設定メモ</title>
      <link>https://tech.k-zak.com/posts/java-dwr/</link>
      <pubDate>Wed, 13 Apr 2011 19:26:26 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/java-dwr/</guid>
      <description></description>
    </item>
    
    <item>
      <title>ちっともすすまない</title>
      <link>https://tech.k-zak.com/posts/milestone/</link>
      <pubDate>Sun, 10 Apr 2011 06:55:10 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone/</guid>
      <description>前に更新したのはいつの頃か・・・</description>
    </item>
    
    <item>
      <title>macにphpMyAdmin</title>
      <link>https://tech.k-zak.com/posts/mcrypt/</link>
      <pubDate>Fri, 03 Sep 2010 15:42:34 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/mcrypt/</guid>
      <description>忘れないうちにメモ</description>
    </item>
    
    <item>
      <title>挫折のまとめ</title>
      <link>https://tech.k-zak.com/posts/milestone/</link>
      <pubDate>Sat, 24 Jul 2010 09:49:21 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/milestone/</guid>
      <description>マイルストーンというからには定期的にまとめておかないとね。</description>
    </item>
    
    <item>
      <title>動かないじゃないか</title>
      <link>https://tech.k-zak.com/posts/study-java/</link>
      <pubDate>Sun, 27 Jun 2010 04:08:43 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/study-java/</guid>
      <description>はじめての サーブレット＆JSP という本を見ながら</description>
    </item>
    
    <item>
      <title>Java分からぬぇ</title>
      <link>https://tech.k-zak.com/posts/study-java/</link>
      <pubDate>Sun, 06 Jun 2010 06:10:29 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/study-java/</guid>
      <description>最近はおろそかになってきていてピンチなのですが、</description>
    </item>
    
    <item>
      <title>もう30回位連休来ないかな？</title>
      <link>https://tech.k-zak.com/posts/reinstall-mac/</link>
      <pubDate>Sun, 09 May 2010 14:05:29 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/reinstall-mac/</guid>
      <description>えー、どうもMacのHDDが原因だったようで、</description>
    </item>
    
    <item>
      <title>PostgreSQL せきゅりてぃ？</title>
      <link>https://tech.k-zak.com/posts/trouble-postgresql/</link>
      <pubDate>Thu, 29 Apr 2010 01:33:02 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/trouble-postgresql/</guid>
      <description>昨日の夜、眠い中PostgreSQLの勉強をしようとしたら、サービスがスタート出来ない！</description>
    </item>
    
    <item>
      <title>あばばば- PostgreSQL編</title>
      <link>https://tech.k-zak.com/posts/reset-postgresql/</link>
      <pubDate>Tue, 27 Apr 2010 14:50:00 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/reset-postgresql/</guid>
      <description>機能PostgreSQLのユーザー作ったり消したりDBやテーブル作成したりしていたら、</description>
    </item>
    
    <item>
      <title>MacにPostgreSQLを入れてみた</title>
      <link>https://tech.k-zak.com/posts/mac-install-postgresql/</link>
      <pubDate>Mon, 26 Apr 2010 12:39:03 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/mac-install-postgresql/</guid>
      <description>XAMPPは既に入っているんですけども、勉強のため、PostgreSQLも入れてみました。</description>
    </item>
    
    <item>
      <title>MT入れてみた</title>
      <link>https://tech.k-zak.com/posts/first-mt/</link>
      <pubDate>Sun, 25 Apr 2010 13:56:34 +0000</pubDate>
      
      <guid>https://tech.k-zak.com/posts/first-mt/</guid>
      <description>MTを入れてみた。ライセンス的に個人で普通のブログのようなメモのような</description>
    </item>
    
  </channel>
</rss>
