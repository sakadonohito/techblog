<!doctype html>
<html lang="ja">
	<head>
		<meta charset="UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
		<title>開発メモてきな</title>
		<link rel="stylesheet" href="https://tech.k-zak.com/css/style.css" type="text/css"/>

	</head>
	<body>
		<div class="wrapper">
			<header class="site-main">
	<div class="header-image-main">
		<img alt="サイトのメインテーマ画像" src="https://tech.k-zak.com/image/top-min.png"/>
		<a href="https://tech.k-zak.com/" class="site-title">開発メモてきな</a>
	</div>
</header>

			<div class="main-part">
				
<main role="main">
	<div class="main-contents">
		<article class="main-content">
			<header>
				<h1>最近やったいろいろ</h1>
				<ul class="horizontal-list-over767">
					<li>Published: 2014年03月16日</li>
				</ul>
				<p>Category:  <a href="https://tech.k-zak.com/categories/study-daily/">study-daily</a>  <a href="https://tech.k-zak.com/categories/setting-construction/">setting-construction</a> </p>
			</header>
			<section>
				<p><p>最近やったいろいろな作業。こまかく書くのめんどいから一つにまとめちゃった。</p>
<p>◆PostgreSQLのSQLダンプ</p>
<p>　・sqlダンプコマンドして移行先で復旧コマンドで取り込み。楽ちん！</p>
<p>◆残念VBSバッチスクリプト</p>
<p>　・サーバーのローカルでEscキーを送信するバッチ処理作ったけど、リモート等で開いてないと正常に動作しない</p>
<p>　・windowsのコマンドでディレクトリ削除するコマンド</p>
<p>◆謎！IISの設定</p>
<p>　・IISのRewrite設定</p>
<p>　　直接変更すると適用されない場合がある？わかりにくいGUIからRewrite設定</p>
<p>　・DefaultWebSiteは外部からの通信を遮断して、仮想サイトだけが外部からのリクエストを受付け、</p>
<p>　　DefaultWebSiteにリダイレクトするやり方がある。</p>
<p>　・IISの接続数制限はユーザー単位ではなく、リクエスト単位なので1ブラウザ6リクエスト位使うため、6の倍数で設定しないと、意図した制御に出来ない</p>
<p>◆Win8.1</p>
<p>　・スタートパネルの左下にひっそりとアプリ一覧に移動するアイコンが。</p>
<p>　・デスクトップやスタートパネルからwin+fで検索してもアプリ出てこない。</p>
<p>　・win8でSQLServer2012のodbc設定がうまくいかない</p>
<p>　　解決していない。接続先サーバーが選択できない。何か設定が足りてないのかも</p>
<p>◆PHP</p>
<p>　・古いやり方のPHP(PEAR使ってる)のinclude設定。ホントめんどい。</p>
<p>　・PHPで頼りになるのはやはりPHP.net</p>
<p>　・問い合せフォームやるとバランスよく覚える気がする(Javascript、css、php)。</p>
<p>　　確認レイアウトを制御phpが適宜incudeするやり方はスマートかもしれない。</p>
<p>　　※セッション制御が楽かも</p>
<p>　・メール送信は確実なのはqdmail＆qdsmtpなんだけど、遅い。</p>
<p>　・メール送信はPHP5.3以降でiconvモジュールが無効になっていないならZendでいいやろ</p>
<p>　　※まさかのiconvモジュールが無効になっていると関連ライブラリでエラー出てZendMail使えない</p>
<p>　・php5.4以降はセーフモード使えない</p>
<p>　・システムレベルの操作を行う関数に影響が出るのでcgiで動かしましょう。</p>
<p>　・ファイルのオーナーとかに気をつけましょう</p>
<p>◆Apacheの設定</p>
<p>　・SSLのヴァーチャルホスト設定する時には証明書のパスを書く</p>
<p>　・ReWriteEngineの書き方、.htaccessにリダイレクトの設定書こうとしたけど、うまくいかなくて</p>
<p>　　vhost.confの方に書いた</p>
<p>◆SSH</p>
<p>　・SSHで認証鍵ファイルを使う場合の設定方法</p>
<p>　　ローカルで認証鍵を作成して、公開鍵をサーバーのSSHログインアカウントの~/.ssh/に放り込む</p>
<p>　・~/.ssh/に設定ファイルを置いておくと楽</p>
<p>◆ポートフォワーディング</p>
<p>　・1つ目のsshがリモートサーバーに対して22ポートで接続するが別のサーバーに任意のポートを転送する設定、</p>
<p>　　転送するポートは22じゃなくても良いので、3389転送してRDPとか出来る。</p>
<p>◆忘れちゃうからメモ(Linuxコマンド)</p>
<p>　・scp</p>
<p>　　scp sourcefile remotehost target</p>
<p>◆emacs</p>
<p>　・ssh→sudo or su root する方法</p>
<p>　　/ssh:SSHRemoteConfName|su(do):SSHRemoteConfName:/path/to/</p>
<p>◆AWSについて</p>
<p>　・EC2インスタンス楽、でもメモリが2,4,8GBの-0.5GBなのでいつもアプリ要求仕様の1ランク上を使わないといけないのが残念。</p>
<p>　・EC2そのもにセキュリティグループの設定があるのでその設定を忘れると、Server側でFireWall無効にしても意味ない(無防備接続確認テストによる切り分けができない)。</p>
<p>　・EC2インスタンス作成時に選択するネットワークセグメント間違うと後で大変。</p>
<p>　・作成したインスタンスのストレージを付け替えることが出来る。</p>
<p>　・仮想プライベートネットワーク領域を作成することが出来る。</p>
<p>◆jQueryについて</p>
<p>　・jQuery-Validation-Engine</p>
<p>　　簡単だけど、複雑な制御が必要になった途端に難易度が急上昇</p>
<p>◆新規でVPSの設定したよ</p>
<p>　・sshの設定、rootでログインさせないとかパスワード認証許可しないとか</p>
<p>　・iptablesの設定</p>
<p>　・apacheのお決まりのvhost設定とか</p>
<p>　・PHPインストール</p>
<p>　・MySQLインストール</p>
<p>　・PostgreSQLインストール</p>
<p>　・Emacsインストール※設定ファイルのカスタマイズまでちゃんと面倒を見よう！あとインストールまでが長い</p>
<p>　・Vimのインストール</p>
<p>　・useadd,usermod,userdel,idgpasswd -a,passwd,/etc/group,checkconfig –list,chown u:g,chown -h,※シンボリックリンクのグループ変更</p>
<p>chgrp dir grp,scp file account@remotehost:/path/to/file,ln -s</p>
<p>　・グループとアクセス権について</p>
<p>　・apacheで使うからとユーザーのホームディレクトリ以下全てグループをapacheにしていたが、そうするとFTPで書き込みができなかった</p>
<p>　　グループをユーザー本来のに戻して解決。apacheの場合はユーザーのグループでもユーザーがapacheグループにも入っていれば大丈夫な模様</p>
<p>　・iptablesの設定　FWみたいなもん/etc/sysconfig/iptables ※CentOS6.4</p>
<p>　・FTPの設定</p>
<p>　　vsftpdがCentOS6.4にデフォルトで入っていなかったのでyum install vsftpd</p>
<p>　　設定では、アノニマス不許可、ユーザーのホームをディレクトリにする、ユーザーリストをホワイトリストとして使うの設定</p>
<p>　・Linux、apacheでbasic認証をする場合</p>
<p>　・.htaccessで使うよと書く</p>
<p>　・.htpasswdファイルにidとパスワードを書く</p>
<p>◆MySQLからデータダンプ</p>
<p>　・sqlで書き出して新しいDBに書きだしたsqlを取り込む。楽ちん！</p>
<p>　・よく使うMySQLコマンド</p>
<p>　　create database ,show databases ,show variables,create user xxx@x identified by xxx,grant all on db.table to user@localhost,drop show processlist,</p>
<p>　・MySQLにデータダンプしたsqlファイルをインポート</p>
<p>　　sqlファイルのある場所に移動してmysqlコマンド→. xxx.sql</p>
<p>　　※ファイルパスの指定が楽になるのでインポートファイルの有る場所でmysqlする。</p>
<p>◆MovableTypeの設定</p>
<p>　・mt-config.cgi でStaticWebPathには静的ファイルを配置するディレクトリのためのパスを記述、相対パスを推奨らしい※web上のURLパスの相対パス</p>
<p>　・mt-config.cgi でCGIPathにはmt.cgi以外のCGIスクリプトリンクを生成するためのパスを記述、AdminCGIPathがない場合はmt.cgiもこの値を使う。</p>
</p>
			</section>
			<footer>
				<p>tags:  <a href="https://tech.k-zak.com/tags/iis/">#IIS</a>,  <a href="https://tech.k-zak.com/tags/emacs/">#Emacs</a>,  <a href="https://tech.k-zak.com/tags/php/">#PHP</a>,  <a href="https://tech.k-zak.com/tags/ssh/">#SSH</a>, </p>
			</footer>
		</article>
	</div>
</main>

				<aside>
	<div class="side-menu">
		<section>
			<p>Categories</p>
			<ul>
				
				<li><a href="https://tech.k-zak.com/categories/setting-construction">setting-construction</a>(37)</li>
				
				<li><a href="https://tech.k-zak.com/categories/study-daily">study-daily</a>(91)</li>
				
				<li><a href="https://tech.k-zak.com/categories/trouble-memo">trouble-memo</a>(6)</li>
				
			</ul>
		</section>
		<section>
			<p><a href="https://tech.k-zak.com/tags/">Tags</a></p>
			<ul>
				
				<li><a href="https://tech.k-zak.com/tags/ansible">ansible</a>(5)</li>
				
				<li><a href="https://tech.k-zak.com/tags/anyenv">anyenv</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/apache">apache</a>(4)</li>
				
				<li><a href="https://tech.k-zak.com/tags/aws">aws</a>(4)</li>
				
				<li><a href="https://tech.k-zak.com/tags/aws-lambda">aws-lambda</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/batch">batch</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/bitgucket">bitgucket</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/books">books</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/bundler">bundler</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/cakephp">cakephp</a>(3)</li>
				
				<li><a href="https://tech.k-zak.com/tags/character">character</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/cmd">cmd</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/codeigniter">codeigniter</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/complain">complain</a>(5)</li>
				
				<li><a href="https://tech.k-zak.com/tags/css">css</a>(5)</li>
				
				<li><a href="https://tech.k-zak.com/tags/django">django</a>(3)</li>
				
				<li><a href="https://tech.k-zak.com/tags/docker">docker</a>(4)</li>
				
				<li><a href="https://tech.k-zak.com/tags/ec2">ec2</a>(3)</li>
				
				<li><a href="https://tech.k-zak.com/tags/ecs">ecs</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/emacs">emacs</a>(4)</li>
				
				<li><a href="https://tech.k-zak.com/tags/env">env</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/etc">etc</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/fastcgi">fastcgi</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/filemaker">filemaker</a>(4)</li>
				
				<li><a href="https://tech.k-zak.com/tags/fmxj">fmxj</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/frontend">frontend</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/fuelphp">fuelphp</a>(4)</li>
				
				<li><a href="https://tech.k-zak.com/tags/golang">golang</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/groovy">groovy</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/hexo">hexo</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/html">html</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/hugo">hugo</a>(3)</li>
				
				<li><a href="https://tech.k-zak.com/tags/iis">iis</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/imap">imap</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/java">java</a>(4)</li>
				
				<li><a href="https://tech.k-zak.com/tags/javascript">javascript</a>(13)</li>
				
				<li><a href="https://tech.k-zak.com/tags/jaws-ug">jaws-ug</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/jekyll">jekyll</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/jquery">jquery</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/laravel4">laravel4</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/log">log</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/lolipopcloud">lolipopcloud</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/mac">mac</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/mackerel">mackerel</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/markdown">markdown</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/mastodon">mastodon</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/mojolicious">mojolicious</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/mojoliciouslite">mojoliciouslite</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/movabletype">movabletype</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/mysql">mysql</a>(3)</li>
				
				<li><a href="https://tech.k-zak.com/tags/netbeans">netbeans</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/network">network</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/nginx">nginx</a>(4)</li>
				
				<li><a href="https://tech.k-zak.com/tags/node.js">node.js</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/ntp">ntp</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/oracle">oracle</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/otrs">otrs</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/pelican">pelican</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/perl">perl</a>(13)</li>
				
				<li><a href="https://tech.k-zak.com/tags/php">php</a>(21)</li>
				
				<li><a href="https://tech.k-zak.com/tags/postfix">postfix</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/postgresql">postgresql</a>(4)</li>
				
				<li><a href="https://tech.k-zak.com/tags/powershell">powershell</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/python">python</a>(15)</li>
				
				<li><a href="https://tech.k-zak.com/tags/rails">rails</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/rbenv">rbenv</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/react">react</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/redmine">redmine</a>(3)</li>
				
				<li><a href="https://tech.k-zak.com/tags/redux">redux</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/ruby">ruby</a>(13)</li>
				
				<li><a href="https://tech.k-zak.com/tags/s3">s3</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/selenium">selenium</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/sinatra">sinatra</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/socket.io">socket.io</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/ssh">ssh</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/swift">swift</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/symfony">symfony</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/terraform">terraform</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/typescript">typescript</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/ubuntu">ubuntu</a>(6)</li>
				
				<li><a href="https://tech.k-zak.com/tags/unicorn">unicorn</a>(2)</li>
				
				<li><a href="https://tech.k-zak.com/tags/vagrant">vagrant</a>(3)</li>
				
				<li><a href="https://tech.k-zak.com/tags/vscode">vscode</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/webpack">webpack</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/windowsserver">windowsserver</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/wkhtmltopdf">wkhtmltopdf</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/wordpress">wordpress</a>(4)</li>
				
				<li><a href="https://tech.k-zak.com/tags/xcode">xcode</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/zabbix">zabbix</a>(1)</li>
				
				<li><a href="https://tech.k-zak.com/tags/zend-framework">zend-framework</a>(1)</li>
				
			</ul>
		</section>
		<section>
			<p>Etc</p>
			<ul>
				<li>About</li>
			</ul>
		</section>
	</div>
</aside>

			</div>
			<footer>
	<small>Copyright &copy; 2014 sakadonohito All rights reserved.</small>
	<small>powered by Hugo.</small>
	<small>開発メモてきな</small>
</footer>

		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
						  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 ga('create', 'UA-46285513-1', 'auto');
 ga('send', 'pageview');
</script>


	</body>
</html>
